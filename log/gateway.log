[2023-03-27 16:38:05.425][thread 28489][,][debug] : test1
[2023-03-27 16:38:05.425][thread 28489][,][info] : test2
[2023-03-27 16:41:21.612][thread 32711][,][debug] : test1
[2023-03-27 16:41:21.612][thread 32711][,][info] : test2
[2023-03-27 16:46:41.817][thread 6790][,][debug] : test1
[2023-03-27 16:46:41.817][thread 6790][,][info] : test2
[2023-03-27 16:49:03.034][thread 9847][,][debug] : test1
[2023-03-27 16:49:03.034][thread 9847][,][info] : test2
[2023-03-27 16:53:34.700][thread 15687][,][debug] : test1
[2023-03-27 16:53:34.700][thread 15687][,][info] : test2
[2023-05-02 09:55:50.964] [logger] [debug] [mysql_pool.cpp:15] mysql_library_init()succeed
[2023-05-02 09:55:50.965] [logger] [debug] [mysql_pool.cpp:257] CREATE TABLE IF NOT EXISTS `data`  (
                            `id` int(11) NOT NULL AUTO_INCREMENT,
                            `dev_addr` varchar(255) CHARACTER SET utf8 NOT NULL,
                            `data_type` int(11) NOT NULL,
                            `frame` json DEFAULT NULL CHECK (JSON_VALID(`frame`)),
                            `send_status` tinyint(1) NULL DEFAULT 1,
                            PRIMARY KEY (`id`) USING BTREE,
                            INDEX `dev_addr`(`dev_addr`) USING BTREE,
                            INDEX `data_type`(`data_type`) USING BTREE,
                            UNIQUE INDEX `frame`(`frame`(512)) USING BTREE
                            ) ENGINE = InnoDB  CHARACTER SET = utf8;
[2023-05-02 09:55:50.965] [logger] [debug] [mysql_pool.cpp:257] CREATE TABLE IF NOT EXISTS `cmd` (`id` int auto_increment,`data_id` int,`cmd` json DEFAULT NULL CHECK (JSON_VALID(`cmd`)), `datetime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, `exe_status` tinyint(3) UNSIGNED NOT NULL DEFAULT 0, `send_status` tinyint(3) UNSIGNED NOT NULL DEFAULT 0,PRIMARY KEY (`id`) USING BTREE, INDEX `exe_status`(`exe_status`) USING BTREE, INDEX `send_status`(`send_status`) USING BTREE,INDEX `datetime`(`datetime`) USING BTREE, UNIQUE INDEX `cmd`(`cmd`(100)) USING BTREE)ENGINE=InnoDB DEFAULT CHARSET=utf8;
[2023-05-02 09:55:50.966] [info] [main.cpp:51] [2117] [main]: Current Path: /home/pi/gateway-data-process/cmake-build-debug
[2023-05-02 09:55:50.971] [debug] [json_str_convertor.cpp:326] [2117] [parseRuleFile]: {
  "0": {
    "source": "3EB4A376",
    "conditions": {
      "0":{
        "co2min": 0,
        "co2max": 500,
        "comin": 0,
        "comax": 200,
        "h2smin": 0,
        "h2smax": 6000,
        "nh3min": 0,
        "nh3max": 1500,
        "tempmin": 0,
        "tempmax": 30,
        "humimin": 0,
        "humimax": 40,
        "luxmin": 0,
        "luxmax": 100
      }
    },
    "targets": {
      "0": ["B54E453C"]
    },
    "actions": {
      "0": {
        "light": "close",
        "fun": "close"
      }
    }
  }
}
[2023-05-02 09:55:50.972] [info] [main.cpp:73] [2117] [main]: Set Rules successful!
[2023-05-02 09:55:50.982] [debug] [mqtt_connector.cpp:127] [2119] [defaultOnSuccessConnected]: successConnected Message with token value '0' delivery confirmed
[2023-05-02 09:55:50.982] [debug] [mqtt_connector.cpp:98] [2119] [connectorSubscribe]: Succeed in subscribing topic 'uplinkFromNode/#' , error code:0
[2023-05-02 09:55:50.982] [debug] [mqtt_connector.cpp:98] [2119] [connectorSubscribe]: Succeed in subscribing topic '$SYS/broker/connection/raspberrypi.raspberry/state' , error code:0
[2023-05-02 09:55:50.982] [debug] [mqtt_connector.cpp:98] [2119] [connectorSubscribe]: Succeed in subscribing topic 'rulesFromCloud' , error code:0
[2023-05-02 09:55:50.982] [debug] [main.cpp:86] [2119] [eachConnectedCallback]: Connection successful.
[2023-05-02 09:55:50.983] [debug] [DB.cpp:190] [2121] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-02 09:55:50.983] [debug] [mqtt_connector.cpp:147] [2119] [defaultOnSuccessSubscribe]: Subscribe successful. Message with token value '1' delivery confirmed
[2023-05-02 09:55:50.983] [debug] [mqtt_connector.cpp:147] [2119] [defaultOnSuccessSubscribe]: Subscribe successful. Message with token value '2' delivery confirmed
[2023-05-02 09:55:50.983] [debug] [DB.cpp:193] [2121] [queryUnexecutedCmd]: false
[2023-05-02 09:55:50.983] [info] [main.cpp:257] [2121] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-02 09:55:51.032] [debug] [main.cpp:116] [2122] [processData]: Message arrived:
[2023-05-02 09:55:51.032] [debug] [main.cpp:117] [2122] [processData]: topic: '$SYS/broker/connection/raspberrypi.raspberry/state'	payload: '0'
[2023-05-02 09:55:51.032] [debug] [mqtt_connector.cpp:1[2023-05-02 10:01:43.144] [logger] [debug] [mysql_pool.cpp:15] mysql_library_init()succeed
[2023-05-02 10:01:43.145] [logger] [debug] [mysql_pool.cpp:257] CREATE TABLE IF NOT EXISTS `data`  (
                            `id` int(11) NOT NULL AUTO_INCREMENT,
                            `dev_addr` varchar(255) CHARACTER SET utf8 NOT NULL,
                            `data_type` int(11) NOT NULL,
                            `frame` json DEFAULT NULL CHECK (JSON_VALID(`frame`)),
                            `send_status` tinyint(1) NULL DEFAULT 1,
                            PRIMARY KEY (`id`) USING BTREE,
                            INDEX `dev_addr`(`dev_addr`) USING BTREE,
                            INDEX `data_type`(`data_type`) USING BTREE,
                            UNIQUE INDEX `frame`(`frame`(512)) USING BTREE
                            ) ENGINE = InnoDB  CHARACTER SET = utf8;
[2023-05-02 10:01:43.145] [logger] [debug] [mysql_pool.cpp:257] CREATE TABLE IF NOT EXISTS `cmd` (`id` int auto_increment,`data_id` int,`cmd` json DEFAULT NULL CHECK (JSON_VALID(`cmd`)), `datetime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, `exe_status` tinyint(3) UNSIGNED NOT NULL DEFAULT 0, `send_status` tinyint(3) UNSIGNED NOT NULL DEFAULT 0,PRIMARY KEY (`id`) USING BTREE, INDEX `exe_status`(`exe_status`) USING BTREE, INDEX `send_status`(`send_status`) USING BTREE,INDEX `datetime`(`datetime`) USING BTREE, UNIQUE INDEX `cmd`(`cmd`(100)) USING BTREE)ENGINE=InnoDB DEFAULT CHARSET=utf8;
[2023-05-02 10:01:43.145] [info] [main.cpp:53] [2608] [main]: Current Path: /home/pi/gateway-data-process/cmake-build-debug
[2023-05-02 10:01:43.149] [debug] [json_str_convertor.cpp:326] [2608] [parseRuleFile]: {
  "0": {
    "source": "3EB4A376",
    "conditions": {
      "0":{
        "co2min": 0,
        "co2max": 500,
        "comin": 0,
        "comax": 200,
        "h2smin": 0,
        "h2smax": 6000,
        "nh3min": 0,
        "nh3max": 1500,
        "tempmin": 0,
        "tempmax": 30,
        "humimin": 0,
        "humimax": 40,
        "luxmin": 0,
        "luxmax": 100
      }
    },
    "targets": {
      "0": ["B54E453C"]
    },
    "actions": {
      "0": {
        "light": "close",
        "fun": "close"
      }
    }
  }
}
[2023-05-02 10:01:43.150] [info] [main.cpp:75] [2608] [main]: Set Rules successful!
[2023-05-02 10:01:43.260] [debug] [mqtt_connector.cpp:127] [2611] [defaultOnSuccessConnected]: successConnected Message with token value '0' delivery confirmed
[2023-05-02 10:01:43.260] [debug] [mqtt_connector.cpp:98] [2611] [connectorSubscribe]: Succeed in subscribing topic 'uplinkFromNode/#' , error code:0
[2023-05-02 10:01:43.260] [debug] [mqtt_connector.cpp:98] [2611] [connectorSubscribe]: Succeed in subscribing topic '$SYS/broker/connection/raspberrypi.raspberry/state' , error code:0
[2023-05-02 10:01:43.260] [debug] [mqtt_connector.cpp:98] [2611] [connectorSubscribe]: Succeed in subscribing topic 'rulesFromCloud' , error code:0
[2023-05-02 10:01:43.260] [debug] [main.cpp:88] [2611] [eachConnectedCallback]: Connection successful.
[2023-05-02 10:01:43.260] [debug] [DB.cpp:190] [2612] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-02 10:01:43.260] [debug] [mqtt_connector.cpp:147] [2611] [defaultOnSuccessSubscribe]: Subscribe successful. Message with token value '1' delivery confirmed
[2023-05-02 10:01:43.261] [debug] [mqtt_connector.cpp:147] [2611] [defaultOnSuccessSubscribe]: Subscribe successful. Message with token value '2' delivery confirmed
[2023-05-02 10:01:43.261] [debug] [mqtt_connector.cpp:147] [2611] [defaultOnSuccessSubscribe]: Subscribe successful. Message with token value '3' delivery confirmed
[2023-05-02 10:01:43.261] [debug] [main.cpp:118] [2613] [processData]: Message arrived:
[2023-05-02 10:01:43.261] [debug] [main.cpp:119] [2613] [processData]: topic: '$SYS/broker/connection/raspberrypi.raspberry/state'	payload: '0'
[2023-05-02 10:01:43.261] [debug] [DB.cpp:193] [2612] [queryUnexecut[2023-05-02 10:04:35.538] [logger] [debug] [mysql_pool.cpp:15] mysql_library_init()succeed
[2023-05-02 10:04:35.539] [logger] [debug] [mysql_pool.cpp:257] CREATE TABLE IF NOT EXISTS `data`  (
                            `id` int(11) NOT NULL AUTO_INCREMENT,
                            `dev_addr` varchar(255) CHARACTER SET utf8 NOT NULL,
                            `data_type` int(11) NOT NULL,
                            `frame` json DEFAULT NULL CHECK (JSON_VALID(`frame`)),
                            `send_status` tinyint(1) NULL DEFAULT 1,
                            PRIMARY KEY (`id`) USING BTREE,
                            INDEX `dev_addr`(`dev_addr`) USING BTREE,
                            INDEX `data_type`(`data_type`) USING BTREE,
                            UNIQUE INDEX `frame`(`frame`(512)) USING BTREE
                            ) ENGINE = InnoDB  CHARACTER SET = utf8;
[2023-05-02 10:04:35.539] [logger] [debug] [mysql_pool.cpp:257] CREATE TABLE IF NOT EXISTS `cmd` (`id` int auto_increment,`data_id` int,`cmd` json DEFAULT NULL CHECK (JSON_VALID(`cmd`)), `datetime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, `exe_status` tinyint(3) UNSIGNED NOT NULL DEFAULT 0, `send_status` tinyint(3) UNSIGNED NOT NULL DEFAULT 0,PRIMARY KEY (`id`) USING BTREE, INDEX `exe_status`(`exe_status`) USING BTREE, INDEX `send_status`(`send_status`) USING BTREE,INDEX `datetime`(`datetime`) USING BTREE, UNIQUE INDEX `cmd`(`cmd`(100)) USING BTREE)ENGINE=InnoDB DEFAULT CHARSET=utf8;
[2023-05-02 10:04:35.539] [info] [main.cpp:53] [2701] [main]: Current Path: /home/pi/gateway-data-process/cmake-build-debug
[2023-05-02 10:04:35.544] [debug] [json_str_convertor.cpp:326] [2701] [parseRuleFile]: {
  "0": {
    "source": "3EB4A376",
    "conditions": {
      "0":{
        "co2min": 0,
        "co2max": 500,
        "comin": 0,
        "comax": 200,
        "h2smin": 0,
        "h2smax": 6000,
        "nh3min": 0,
        "nh3max": 1500,
        "tempmin": 0,
        "tempmax": 30,
        "humimin": 0,
        "humimax": 40,
        "luxmin": 0,
        "luxmax": 100
      }
    },
    "targets": {
      "0": ["B54E453C"]
    },
    "actions": {
      "0": {
        "light": "close",
        "fun": "close"
      }
    }
  }
}
[2023-05-02 10:04:35.544] [info] [main.cpp:75] [2701] [main]: Set Rules successful!
[2023-05-02 10:04:35.655] [debug] [mqtt_connector.cpp:127] [2703] [defaultOnSuccessConnected]: successConnected Message with token value '0' delivery confirmed
[2023-05-02 10:04:35.655] [debug] [mqtt_connector.cpp:98] [2703] [connectorSubscribe]: Succeed in subscribing topic 'uplinkFromNode/#' , error code:0
[2023-05-02 10:04:35.655] [debug] [mqtt_connector.cpp:98] [2703] [connectorSubscribe]: Succeed in subscribing topic '$SYS/broker/connection/raspberrypi.raspberry/state' , error code:0
[2023-05-02 10:04:35.655] [debug] [mqtt_connector.cpp:98] [2703] [connectorSubscribe]: Succeed in subscribing topic 'rulesFromCloud' , error code:0
[2023-05-02 10:04:35.655] [debug] [main.cpp:88] [2703] [eachConnectedCallback]: Connection successful.
[2023-05-02 10:04:35.655] [debug] [DB.cpp:190] [2704] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-02 10:04:35.656] [debug] [mqtt_connector.cpp:147] [2703] [defaultOnSuccessSubscribe]: Subscribe successful. Message with token value '1' delivery confirmed
[2023-05-02 10:04:35.656] [debug] [mqtt_connector.cpp:147] [2703] [defaultOnSuccessSubscribe]: Subscribe successful. Message with token value '2' delivery confirmed
[2023-05-02 10:04:35.656] [debug] [mqtt_connector.cpp:147] [2703] [defaultOnSuccessSubscribe]: Subscribe successful. Message with token value '3' delivery confirmed
[2023-05-02 10:04:35.656] [debug] [main.cpp:118] [2706] [processData]: Message arrived:
[2023-05-02 10:04:35.656] [debug] [main.cpp:119] [2706] [processData]: topic: '$SYS/broker/connection/raspberrypi.raspberry/state'	payload: '0'
[2023-05-02 10:04:35.657] [debug] [DB.cpp:193] [2704] [queryUnexecut[2023-05-02 10:06:18.183] [logger] [debug] [mysql_pool.cpp:15] mysql_library_init()succeed
[2023-05-02 10:06:18.184] [logger] [debug] [mysql_pool.cpp:257] CREATE TABLE IF NOT EXISTS `data`  (
                            `id` int(11) NOT NULL AUTO_INCREMENT,
                            `dev_addr` varchar(255) CHARACTER SET utf8 NOT NULL,
                            `data_type` int(11) NOT NULL,
                            `frame` json DEFAULT NULL CHECK (JSON_VALID(`frame`)),
                            `send_status` tinyint(1) NULL DEFAULT 1,
                            PRIMARY KEY (`id`) USING BTREE,
                            INDEX `dev_addr`(`dev_addr`) USING BTREE,
                            INDEX `data_type`(`data_type`) USING BTREE,
                            UNIQUE INDEX `frame`(`frame`(512)) USING BTREE
                            ) ENGINE = InnoDB  CHARACTER SET = utf8;
[2023-05-02 10:06:18.184] [logger] [debug] [mysql_pool.cpp:257] CREATE TABLE IF NOT EXISTS `cmd` (`id` int auto_increment,`data_id` int,`cmd` json DEFAULT NULL CHECK (JSON_VALID(`cmd`)), `datetime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, `exe_status` tinyint(3) UNSIGNED NOT NULL DEFAULT 0, `send_status` tinyint(3) UNSIGNED NOT NULL DEFAULT 0,PRIMARY KEY (`id`) USING BTREE, INDEX `exe_status`(`exe_status`) USING BTREE, INDEX `send_status`(`send_status`) USING BTREE,INDEX `datetime`(`datetime`) USING BTREE, UNIQUE INDEX `cmd`(`cmd`(100)) USING BTREE)ENGINE=InnoDB DEFAULT CHARSET=utf8;
[2023-05-02 10:06:18.184] [info] [main.cpp:53] [2908] [main]: Current Path: /home/pi/gateway-data-process/cmake-build-release
[2023-05-02 10:06:18.188] [debug] [json_str_convertor.cpp:326] [2908] [parseRuleFile]: {
  "0": {
    "source": "3EB4A376",
    "conditions": {
      "0":{
        "co2min": 0,
        "co2max": 500,
        "comin": 0,
        "comax": 200,
        "h2smin": 0,
        "h2smax": 6000,
        "nh3min": 0,
        "nh3max": 1500,
        "tempmin": 0,
        "tempmax": 30,
        "humimin": 0,
        "humimax": 40,
        "luxmin": 0,
        "luxmax": 100
      }
    },
    "targets": {
      "0": ["B54E453C"]
    },
    "actions": {
      "0": {
        "light": "close",
        "fun": "close"
      }
    }
  }
}
[2023-05-02 10:06:18.189] [info] [main.cpp:75] [2908] [main]: Set Rules successful!
[2023-05-02 10:06:18.298] [debug] [mqtt_connector.cpp:127] [2910] [defaultOnSuccessConnected]: successConnected Message with token value '0' delivery confirmed
[2023-05-02 10:06:18.298] [debug] [mqtt_connector.cpp:98] [2910] [connectorSubscribe]: Succeed in subscribing topic 'uplinkFromNode/#' , error code:0
[2023-05-02 10:06:18.299] [debug] [mqtt_connector.cpp:98] [2910] [connectorSubscribe]: Succeed in subscribing topic '$SYS/broker/connection/raspberrypi.raspberry/state' , error code:0
[2023-05-02 10:06:18.299] [debug] [mqtt_connector.cpp:98] [2910] [connectorSubscribe]: Succeed in subscribing topic 'rulesFromCloud' , error code:0
[2023-05-02 10:06:18.299] [debug] [main.cpp:88] [2910] [eachConnectedCallback]: Connection successful.
[2023-05-02 10:06:18.299] [debug] [DB.cpp:190] [2911] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-02 10:06:18.299] [debug] [mqtt_connector.cpp:147] [2910] [defaultOnSuccessSubscribe]: Subscribe successful. Message with token value '1' delivery confirmed
[2023-05-02 10:06:18.300] [debug] [DB.cpp:193] [2911] [queryUnexecutedCmd]: false
[2023-05-02 10:06:18.300] [info] [main.cpp:259] [2911] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-02 10:06:18.300] [debug] [mqtt_connector.cpp:147] [2910] [defaultOnSuccessSubscribe]: Subscribe successful. Message with token value '2' delivery confirmed
[2023-05-02 10:06:18.342] [debug] [main.cpp:118] [2912] [processData]: Message arrived:
[2023-05-02 10:06:18.342] [debug] [main.cpp:119] [2912] [processData]: topic: '$SYS/broker/connection/raspberrypi.raspberry/state'	payload: '0'
[2023-05-02 10:06:18.342] [debug] [mqtt_connector.cpp:147] [2910] [defaultOnSuccessSubscribe]: Subscribe successful. Message with token value '3' delivery confirmed
[2023-05-02 10:06:28.300] [debug] [DB.cpp:190] [2911] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-02 10:06:28.300] [debug] [DB.cpp:193] [2911] [queryUnexecutedCmd]: false
[2023-05-02 10:06:28.300] [info] [main.cpp:259] [2911] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-02 10:06:38.300] [debug] [DB.cpp:190] [2911] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-02 10:06:38.301] [debug] [DB.cpp:193] [2911] [queryUnexecutedCmd]: false
[2023-05-02 10:06:38.301] [info] [main.cpp:259] [2911] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-02 10:06:48.301] [debug] [DB.cpp:190] [2911] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-02 10:06:48.302] [debug] [DB.cpp:193] [2911] [queryUnexecutedCmd]: false
[2023-05-02 10:06:48.302] [info] [main.cpp:259] [2911] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-02 10:06:58.302] [debug] [DB.cpp:190] [2911] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-02 10:06:58.302] [debug] [DB.cpp:193] [2911] [queryUnexecutedCmd]: false
[2023-05-02 10:06:58.303] [info] [main.cpp:259] [2911] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-02 10:07:08.303] [debug] [DB.cpp:190] [2911] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-02 10:07:08.303] [debug] [DB.cpp:193] [2911] [queryUnexecutedCmd]: false
[2023-05-02 10:07:08.303] [info] [main.cpp:259] [2911] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-02 10:07:18.303] [debug] [DB.cpp:190] [2911] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-02 10:07:18.304] [debug] [DB.cpp:193] [2911] [queryUnexecutedCmd]: false
[2023-05-02 10:07:18.304] [info] [main.cpp:259] [2911] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-02 10:07:28.304] [debug] [DB.cpp:190] [2911] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-02 10:07:28.305] [debug] [DB.cpp:193] [2911] [queryUnexecutedCmd]: false
[2023-05-02 10:07:28.305] [info] [main.cpp:259] [2911] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-02 10:07:38.305] [debug] [DB.cpp:190] [2911] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-02 10:07:38.306] [debug] [DB.cpp:193] [2911] [queryUnexecutedCmd]: false
[2023-05-02 10:07:38.306] [info] [main.cpp:259] [2911] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-02 10:07:48.306] [debug] [DB.cpp:190] [2911] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-02 10:07:48.306] [debug] [DB.cpp:193] [2911] [queryUnexecutedCmd]: false
[2023-05-02 10:07:48.306] [info] [main.cpp:259] [2911] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-02 10:07:58.306] [debug] [DB.cpp:190] [2911] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-02 10:07:58.307] [debug] [DB.cpp:193] [2911] [queryUnexecutedCmd]: false
[2023-05-02 10:07:58.307] [info] [main.cpp:259] [2911] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-02 10:08:08.307] [debug] [DB.cpp:190] [2911] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-02 10:08:08.308] [debug] [DB.cpp:193] [2911] [queryUnexecutedCmd]: false
[2023-05-02 10:08:08.308] [info] [main.cpp:259] [2911] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-02 10:08:18.308] [debug] [DB.cpp:190] [2911] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <=[2023-05-02 10:09:13.861] [logger] [debug] [mysql_pool.cpp:15] mysql_library_init()succeed
[2023-05-02 10:09:13.863] [logger] [debug] [mysql_pool.cpp:257] CREATE TABLE IF NOT EXISTS `data`  (
                            `id` int(11) NOT NULL AUTO_INCREMENT,
                            `dev_addr` varchar(255) CHARACTER SET utf8 NOT NULL,
                            `data_type` int(11) NOT NULL,
                            `frame` json DEFAULT NULL CHECK (JSON_VALID(`frame`)),
                            `send_status` tinyint(1) NULL DEFAULT 1,
                            PRIMARY KEY (`id`) USING BTREE,
                            INDEX `dev_addr`(`dev_addr`) USING BTREE,
                            INDEX `data_type`(`data_type`) USING BTREE,
                            UNIQUE INDEX `frame`(`frame`(512)) USING BTREE
                            ) ENGINE = InnoDB  CHARACTER SET = utf8;
[2023-05-02 10:09:13.864] [logger] [debug] [mysql_pool.cpp:257] CREATE TABLE IF NOT EXISTS `cmd` (`id` int auto_increment,`data_id` int,`cmd` json DEFAULT NULL CHECK (JSON_VALID(`cmd`)), `datetime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, `exe_status` tinyint(3) UNSIGNED NOT NULL DEFAULT 0, `send_status` tinyint(3) UNSIGNED NOT NULL DEFAULT 0,PRIMARY KEY (`id`) USING BTREE, INDEX `exe_status`(`exe_status`) USING BTREE, INDEX `send_status`(`send_status`) USING BTREE,INDEX `datetime`(`datetime`) USING BTREE, UNIQUE INDEX `cmd`(`cmd`(100)) USING BTREE)ENGINE=InnoDB DEFAULT CHARSET=utf8;
[2023-05-02 10:09:13.864] [info] [main.cpp:53] [2946] [main]: Current Path: /home/pi/gateway-data-process/cmake-build-release
[2023-05-02 10:09:13.875] [debug] [json_str_convertor.cpp:326] [2946] [parseRuleFile]: {
  "0": {
    "source": "3EB4A376",
    "conditions": {
      "0":{
        "co2min": 0,
        "co2max": 500,
        "comin": 0,
        "comax": 200,
        "h2smin": 0,
        "h2smax": 6000,
        "nh3min": 0,
        "nh3max": 1500,
        "tempmin": 0,
        "tempmax": 30,
        "humimin": 0,
        "humimax": 40,
        "luxmin": 0,
        "luxmax": 100
      }
    },
    "targets": {
      "0": ["B54E453C"]
    },
    "actions": {
      "0": {
        "light": "close",
        "fun": "close"
      }
    }
  }
}
[2023-05-02 10:09:13.875] [info] [main.cpp:75] [2946] [main]: Set Rules successful!
[2023-05-02 10:09:13.984] [debug] [mqtt_connector.cpp:127] [2948] [defaultOnSuccessConnected]: successConnected Message with token value '0' delivery confirmed
[2023-05-02 10:09:13.984] [debug] [mqtt_connector.cpp:98] [2948] [connectorSubscribe]: Succeed in subscribing topic 'uplinkFromNode/#' , error code:0
[2023-05-02 10:09:13.984] [debug] [mqtt_connector.cpp:98] [2948] [connectorSubscribe]: Succeed in subscribing topic '$SYS/broker/connection/raspberrypi.raspberry/state' , error code:0
[2023-05-02 10:09:13.984] [debug] [mqtt_connector.cpp:98] [2948] [connectorSubscribe]: Succeed in subscribing topic 'rulesFromCloud' , error code:0
[2023-05-02 10:09:13.985] [debug] [main.cpp:88] [2948] [eachConnectedCallback]: Connection successful.
[2023-05-02 10:09:13.985] [debug] [DB.cpp:190] [2949] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-02 10:09:13.985] [debug] [mqtt_connector.cpp:147] [2948] [defaultOnSuccessSubscribe]: Subscribe successful. Message with token value '1' delivery confirmed
[2023-05-02 10:09:13.985] [debug] [mqtt_connector.cpp:147] [2948] [defaultOnSuccessSubscribe]: Subscribe successful. Message with token value '2' delivery confirmed
[2023-05-02 10:09:13.985] [debug] [main.cpp:118] [2950] [processData]: Message arrived:
[2023-05-02 10:09:13.985] [debug] [main.cpp:119] [2950] [processData]: topic: '$SYS/broker/connection/raspberrypi.raspberry/state'	payload: '0'
[2023-05-02 10:09:13.985] [debug] [mqtt_connector.cpp:147] [2948] [defaultOnSuccessSubscribe]: Subscribe successful. Message with token value '3' delivery confirmed
[2023-05-02 10:09:13.985] [debug] [DB.cpp:193] [2949] [queryUnexecutedCmd]: false
[2023-05-02 10:09:13.986] [info] [main.cpp:259] [2949] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-02 10:09:23.986] [debug] [DB.cpp:190] [2949] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-02 10:09:23.986] [debug] [DB.cpp:193] [2949] [queryUnexecutedCmd]: false
[2023-05-02 10:09:23.986] [info] [main.cpp:259] [2949] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-02 10:09:33.986] [debug] [DB.cpp:190] [2949] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-02 10:09:33.987] [debug] [DB.cpp:193] [2949] [queryUnexecutedCmd]: false
[2023-05-02 10:09:33.987] [info] [main.cpp:259] [2949] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-02 10:09:43.987] [debug] [DB.cpp:190] [2949] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-02 10:09:43.988] [debug] [DB.cpp:193] [2949] [queryUnexecutedCmd]: false
[2023-05-02 10:09:43.988] [info] [main.cpp:259] [2949] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-02 10:09:53.988] [debug] [DB.cpp:190] [2949] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-02 10:09:53.989] [debug] [DB.cpp:193] [2949] [queryUnexecutedCmd]: false
[2023-05-02 10:09:53.989] [info] [main.cpp:259] [2949] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-02 10:10:03.989] [debug] [DB.cpp:190] [2949] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-02 10:10:03.989] [debug] [DB.cpp:193] [2949] [queryUnexecutedCmd]: false
[2023-05-02 10:10:03.989] [info] [main.cpp:259] [2949] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-02 10:10:13.989] [debug] [DB.cpp:190] [2949] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-02 10:10:13.990] [debug] [DB.cpp:193] [2949] [queryUnexecutedCmd]: false
[2023-05-02 10:10:13.990] [info] [main.cpp:259] [2949] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-02 10:10:23.990] [debug] [DB.cpp:190] [2949] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-02 10:10:23.991] [debug] [DB.cpp:193] [2949] [queryUnexecutedCmd]: false
[2023-05-02 10:10:23.991] [info] [main.cpp:259] [2949] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-02 10:10:28.047] [debug] [main.cpp:118] [2951] [processData]: Message arrived:
[2023-05-02 10:10:28.047] [debug] [main.cpp:119] [2951] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"000016020700140190015E010500F906","data1":22,"data2":519,"data3":20,"data4":400,"data5":350,"data6":261,"data7":63750,"datatype":0,"datetime":"2023-05-02T02:10:27Z","datr":"SF12BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":0,"freq":474.3,"lsnr":-0.8,"mac":"B827EBFFFE2114B5","port":2,"rssi":-107}'
[2023-05-02 10:10:28.048] [debug] [json_str_convertor.cpp:206] [2951] [parseNodeUplink]: 2023-05-02T02:10:27Z
[2023-05-02 10:10:28.048] [debug] [json_str_convertor.cpp:240] [2951] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"000016020700140190015E010500F906",
	"datatype":	0,
	"datetime":	"2023-05-02T02:10:27Z",
	"devaddr":	"3EB4A376",
	"fcnt":	0,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	22,
	"h2s":	519,
	"co":	20,
	"co2":	400,
	"humi":	35,
	"temp":	26.1,
	"lux":	637.5,
	"localtime":	"2023-05-02 10:10:27"
}
[2023-05-02 10:10:28.048] [debug] [mqtt_connector.cpp:112] [2951] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"000016020700140190015E010500F906",
	"datatype":	0,
	"datetime":	"2023-05-02T02:10:27Z",
	"devaddr":	"3EB4A376",
	"fcnt":	0,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	22,
	"h2s":	519,
	"co":	20,
	"co2":	400,
	"humi":	35,
	"temp":	26.1,
	"lux":	637.5,
	"localtime":	"2023-05-02 10:10:27"
}'
[2023-05-02 10:10:28.048] [debug] [mqtt_connector.cpp:120] [2951] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"000016020700140190015E010500F906",
	"datatype":	0,
	"datetime":	"2023-05-02T02:10:27Z",
	"devaddr":	"3EB4A376",
	"fcnt":	0,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	22,
	"h2s":	519,
	"co":	20,
	"co2":	400,
	"humi":	35,
	"temp":	26.1,
	"lux":	637.5,
	"localtime":	"2023-05-02 10:10:27"
}'
[2023-05-02 10:10:28.048] [debug] [DB.cpp:110] [2951] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"000016020700140190015E010500F906",
	"datatype":	0,
	"datetime":	"2023-05-02T02:10:27Z",
	"devaddr":	"3EB4A376",
	"fcnt":	0,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	22,
	"h2s":	519,
	"co":	20,
	"co2":	400,
	"humi":	35,
	"temp":	26.1,
	"lux":	637.5,
	"localtime":	"2023-05-02 10:10:27"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"000016020700140190015E010500F906",
	"datatype":	0,
	"datetime":	"2023-05-02T02:10:27Z",
	"devaddr":	"3EB4A376",
	"fcnt":	0,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	22,
	"h2s":	519,
	"co":	20,
	"co2":	400,
	"humi":	35,
	"temp":	26.1,
	"lux":	637.5,
	"localtime":	"2023-05-02 10:10:27"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-02 10:10:28.084] [debug] [mysql_pool.cpp:208] [2951] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"000016020700140190015E010500F906",
	"datatype":	0,
	"datetime":	"2023-05-02T02:10:27Z",
	"devaddr":	"3EB4A376",
	"fcnt":	0,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	22,
	"h2s":	519,
	"co":	20,
	"co2":	400,
	"humi":	35,
	"temp":	26.1,
	"lux":	637.5,
	"localtime":	"2023-05-02 10:10:27"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"000016020700140190015E010500F906",
	"datatype":	0,
	"datetime":	"2023-05-02T02:10:27Z",
	"devaddr":	"3EB4A376",
	"fcnt":	0,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	22,
	"h2s":	519,
	"co":	20,
	"co2":	400,
	"humi":	35,
	"temp":	26.1,
	"lux":	637.5,
	"localtime":	"2023-05-02 10:10:27"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-02 10:10:28.084] [debug] [DB.cpp:112] [2951] [insertData]: Auto increment id:455
[2023-05-02 10:10:28.084] [info] [rule.cpp:240] [2951] [setSourceData]: temp:26.1 humi:35 lux:637.5 co:20 co2:400 h2s:519 nh3:22
[2023-05-02 10:10:28.092] [debug] [mqtt_connector.cpp:168] [2948] [defaultDelivered]: Message with token value '4' delivery confirmed
[2023-05-02 10:10:33.991] [debug] [DB.cpp:190] [2949] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-02 10:10:33.992] [debug] [DB.cpp:193] [2949] [queryUnexecutedCmd]: false
[2023-05-02 10:10:33.992] [info] [main.cpp:259] [2949] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-02 10:10:43.992] [debug] [DB.cpp:190] [2949] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-02 10:10:43.993] [debug] [DB.cpp:193] [2949] [queryUnexecutedCmd]: false
[2023-05-02 10:10:43.993] [info] [main.cpp:259] [2949] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-02 10:10:53.993] [debug] [DB.cpp:190] [2949] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-02 10:10:53.993] [debug] [DB.cpp:193] [2949] [queryUnexecutedCmd]: false
[2023-05-02 10:10:53.993] [info] [main.cpp:259] [2949] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-02 10:11:03.994] [debug] [DB.cpp:190] [2949] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-02 10:11:0[2023-05-05 11:12:10.875] [logger] [debug] [mysql_pool.cpp:15] mysql_library_init()succeed
[2023-05-05 11:12:10.877] [logger] [debug] [mysql_pool.cpp:257] CREATE TABLE IF NOT EXISTS `data`  (
                            `id` int(11) NOT NULL AUTO_INCREMENT,
                            `dev_addr` varchar(255) CHARACTER SET utf8 NOT NULL,
                            `data_type` int(11) NOT NULL,
                            `frame` json DEFAULT NULL CHECK (JSON_VALID(`frame`)),
                            `send_status` tinyint(1) NULL DEFAULT 1,
                            PRIMARY KEY (`id`) USING BTREE,
                            INDEX `dev_addr`(`dev_addr`) USING BTREE,
                            INDEX `data_type`(`data_type`) USING BTREE,
                            UNIQUE INDEX `frame`(`frame`(512)) USING BTREE
                            ) ENGINE = InnoDB  CHARACTER SET = utf8;
[2023-05-05 11:12:10.877] [logger] [debug] [mysql_pool.cpp:257] CREATE TABLE IF NOT EXISTS `cmd` (`id` int auto_increment,`data_id` int,`cmd` json DEFAULT NULL CHECK (JSON_VALID(`cmd`)), `datetime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, `exe_status` tinyint(3) UNSIGNED NOT NULL DEFAULT 0, `send_status` tinyint(3) UNSIGNED NOT NULL DEFAULT 0,PRIMARY KEY (`id`) USING BTREE, INDEX `exe_status`(`exe_status`) USING BTREE, INDEX `send_status`(`send_status`) USING BTREE,INDEX `datetime`(`datetime`) USING BTREE, UNIQUE INDEX `cmd`(`cmd`(100)) USING BTREE)ENGINE=InnoDB DEFAULT CHARSET=utf8;
[2023-05-05 11:12:10.877] [info] [main.cpp:53] [11132] [main]: Current Path: /home/pi/gateway-data-process/cmake-build-release
[2023-05-05 11:12:10.883] [debug] [json_str_convertor.cpp:326] [11132] [parseRuleFile]: {
  "0": {
    "source": "3EB4A376",
    "conditions": {
      "0":{
        "co2min": 0,
        "co2max": 500,
        "comin": 0,
        "comax": 200,
        "h2smin": 0,
        "h2smax": 6000,
        "nh3min": 0,
        "nh3max": 1500,
        "tempmin": 0,
        "tempmax": 30,
        "humimin": 0,
        "humimax": 40,
        "luxmin": 0,
        "luxmax": 100
      }
    },
    "targets": {
      "0": ["B54E453C"]
    },
    "actions": {
      "0": {
        "light": "close",
        "fun": "close"
      }
    }
  }
}
[2023-05-05 11:12:10.883] [info] [main.cpp:75] [11132] [main]: Set Rules successful!
[2023-05-05 11:12:10.992] [debug] [mqtt_connector.cpp:127] [11135] [defaultOnSuccessConnected]: successConnected Message with token value '0' delivery confirmed
[2023-05-05 11:12:10.992] [debug] [mqtt_connector.cpp:98] [11135] [connectorSubscribe]: Succeed in subscribing topic 'uplinkFromNode/#' , error code:0
[2023-05-05 11:12:10.992] [debug] [mqtt_connector.cpp:98] [11135] [connectorSubscribe]: Succeed in subscribing topic '$SYS/broker/connection/raspberrypi.raspberry/state' , error code:0
[2023-05-05 11:12:10.992] [debug] [mqtt_connector.cpp:98] [11135] [connectorSubscribe]: Succeed in subscribing topic 'rulesFromCloud' , error code:0
[2023-05-05 11:12:10.992] [debug] [main.cpp:88] [11135] [eachConnectedCallback]: Connection successful.
[2023-05-05 11:12:10.992] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:12:10.993] [debug] [mqtt_connector.cpp:147] [11135] [defaultOnSuccessSubscribe]: Subscribe successful. Message with token value '1' delivery confirmed
[2023-05-05 11:12:10.993] [debug] [mqtt_connector.cpp:147] [11135] [defaultOnSuccessSubscribe]: Subscribe successful. Message with token value '2' delivery confirmed
[2023-05-05 11:12:10.993] [debug] [main.cpp:118] [11137] [processData]: Message arrived:
[2023-05-05 11:12:10.993] [debug] [main.cpp:119] [11137] [processData]: topic: '$SYS/broker/connection/raspberrypi.raspberry/state'	payload: '0'
[2023-05-05 11:12:10.993] [debug] [mqtt_connector.cpp:147] [11135] [defaultOnSuccessSubscribe]: Subscribe successful. Message with token value '3' delivery confirmed
[2023-05-05 11:12:10.997] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:12:10.998] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:12:20.998] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:12:20.999] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:12:20.999] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:12:30.999] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:12:31.000] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:12:31.000] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:12:41.000] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:12:41.001] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:12:41.001] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:12:50.896] [debug] [main.cpp:118] [11138] [processData]: Message arrived:
[2023-05-05 11:12:50.896] [debug] [main.cpp:119] [11138] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"0000070014001401900262010700682A","data1":7,"data2":20,"data3":20,"data4":400,"data5":610,"data6":263,"data7":26666,"datatype":0,"datetime":"2023-05-05T03:12:50Z","datr":"SF12BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":0,"freq":474.5,"lsnr":-13.2,"mac":"B827EBFFFE2114B5","port":2,"rssi":-106}'
[2023-05-05 11:12:50.897] [debug] [json_str_convertor.cpp:206] [11138] [parseNodeUplink]: 2023-05-05T03:12:50Z
[2023-05-05 11:12:50.897] [debug] [json_str_convertor.cpp:240] [11138] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000070014001401900262010700682A",
	"datatype":	0,
	"datetime":	"2023-05-05T03:12:50Z",
	"devaddr":	"3EB4A376",
	"fcnt":	0,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	7,
	"h2s":	20,
	"co":	20,
	"co2":	400,
	"humi":	61,
	"temp":	26.3,
	"lux":	266.66,
	"localtime":	"2023-05-05 11:12:50"
}
[2023-05-05 11:12:50.897] [debug] [mqtt_connector.cpp:112] [11138] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000070014001401900262010700682A",
	"datatype":	0,
	"datetime":	"2023-05-05T03:12:50Z",
	"devaddr":	"3EB4A376",
	"fcnt":	0,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	7,
	"h2s":	20,
	"co":	20,
	"co2":	400,
	"humi":	61,
	"temp":	26.3,
	"lux":	266.66,
	"localtime":	"2023-05-05 11:12:50"
}'
[2023-05-05 11:12:50.897] [debug] [mqtt_connector.cpp:120] [11138] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000070014001401900262010700682A",
	"datatype":	0,
	"datetime":	"2023-05-05T03:12:50Z",
	"devaddr":	"3EB4A376",
	"fcnt":	0,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	7,
	"h2s":	20,
	"co":	20,
	"co2":	400,
	"humi":	61,
	"temp":	26.3,
	"lux":	266.66,
	"localtime":	"2023-05-05 11:12:50"
}'
[2023-05-05 11:12:50.897] [debug] [DB.cpp:110] [11138] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000070014001401900262010700682A",
	"datatype":	0,
	"datetime":	"2023-05-05T03:12:50Z",
	"devaddr":	"3EB4A376",
	"fcnt":	0,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	7,
	"h2s":	20,
	"co":	20,
	"co2":	400,
	"humi":	61,
	"temp":	26.3,
	"lux":	266.66,
	"localtime":	"2023-05-05 11:12:50"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000070014001401900262010700682A",
	"datatype":	0,
	"datetime":	"2023-05-05T03:12:50Z",
	"devaddr":	"3EB4A376",
	"fcnt":	0,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	7,
	"h2s":	20,
	"co":	20,
	"co2":	400,
	"humi":	61,
	"temp":	26.3,
	"lux":	266.66,
	"localtime":	"2023-05-05 11:12:50"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:12:50.910] [debug] [mysql_pool.cpp:208] [11138] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000070014001401900262010700682A",
	"datatype":	0,
	"datetime":	"2023-05-05T03:12:50Z",
	"devaddr":	"3EB4A376",
	"fcnt":	0,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	7,
	"h2s":	20,
	"co":	20,
	"co2":	400,
	"humi":	61,
	"temp":	26.3,
	"lux":	266.66,
	"localtime":	"2023-05-05 11:12:50"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000070014001401900262010700682A",
	"datatype":	0,
	"datetime":	"2023-05-05T03:12:50Z",
	"devaddr":	"3EB4A376",
	"fcnt":	0,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	7,
	"h2s":	20,
	"co":	20,
	"co2":	400,
	"humi":	61,
	"temp":	26.3,
	"lux":	266.66,
	"localtime":	"2023-05-05 11:12:50"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:12:50.910] [debug] [DB.cpp:112] [11138] [insertData]: Auto increment id:456
[2023-05-05 11:12:50.910] [info] [rule.cpp:240] [11138] [setSourceData]: temp:26.3 humi:61 lux:266.66 co:20 co2:400 h2s:20 nh3:7
[2023-05-05 11:12:50.944] [debug] [mqtt_connector.cpp:168] [11135] [defaultDelivered]: Message with token value '4' delivery confirmed
[2023-05-05 11:12:51.001] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:12:51.001] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:12:51.001] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:13:01.001] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:13:01.002] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:13:01.002] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:13:11.002] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:13:11.003] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:13:11.003] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:13:21.003] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:13:21.004] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:13:21.004] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:13:31.004] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:13:31.005] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:13:31.005] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:13:41.005] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:13:41.005] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:13:41.005] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:13:51.005] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:13:51.006] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:13:51.006] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:14:01.007] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:14:01.008] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:14:01.008] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:14:11.008] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:14:11.009] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:14:11.009] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:14:13.707] [debug] [main.cpp:118] [11139] [processData]: Message arrived:
[2023-05-05 11:14:13.707] [debug] [main.cpp:119] [11139] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"0000030005001401D4021201080073E2","data1":3,"data2":5,"data3":20,"data4":468,"data5":530,"data6":264,"data7":29666,"datatype":0,"datetime":"2023-05-05T03:14:13Z","datr":"SF12BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":1,"freq":474.7,"lsnr":-19.8,"mac":"B827EBFFFE2114B5","port":2,"rssi":-112}'
[2023-05-05 11:14:13.707] [debug] [json_str_convertor.cpp:206] [11139] [parseNodeUplink]: 2023-05-05T03:14:13Z
[2023-05-05 11:14:13.707] [debug] [json_str_convertor.cpp:240] [11139] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401D4021201080073E2",
	"datatype":	0,
	"datetime":	"2023-05-05T03:14:13Z",
	"devaddr":	"3EB4A376",
	"fcnt":	1,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	468,
	"humi":	53,
	"temp":	26.4,
	"lux":	296.66,
	"localtime":	"2023-05-05 11:14:13"
}
[2023-05-05 11:14:13.707] [debug] [mqtt_connector.cpp:112] [11139] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401D4021201080073E2",
	"datatype":	0,
	"datetime":	"2023-05-05T03:14:13Z",
	"devaddr":	"3EB4A376",
	"fcnt":	1,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	468,
	"humi":	53,
	"temp":	26.4,
	"lux":	296.66,
	"localtime":	"2023-05-05 11:14:13"
}'
[2023-05-05 11:14:13.707] [debug] [mqtt_connector.cpp:120] [11139] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401D4021201080073E2",
	"datatype":	0,
	"datetime":	"2023-05-05T03:14:13Z",
	"devaddr":	"3EB4A376",
	"fcnt":	1,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	468,
	"humi":	53,
	"temp":	26.4,
	"lux":	296.66,
	"localtime":	"2023-05-05 11:14:13"
}'
[2023-05-05 11:14:13.708] [debug] [DB.cpp:110] [11139] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401D4021201080073E2",
	"datatype":	0,
	"datetime":	"2023-05-05T03:14:13Z",
	"devaddr":	"3EB4A376",
	"fcnt":	1,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	468,
	"humi":	53,
	"temp":	26.4,
	"lux":	296.66,
	"localtime":	"2023-05-05 11:14:13"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401D4021201080073E2",
	"datatype":	0,
	"datetime":	"2023-05-05T03:14:13Z",
	"devaddr":	"3EB4A376",
	"fcnt":	1,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	468,
	"humi":	53,
	"temp":	26.4,
	"lux":	296.66,
	"localtime":	"2023-05-05 11:14:13"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:14:13.715] [debug] [mysql_pool.cpp:208] [11139] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401D4021201080073E2",
	"datatype":	0,
	"datetime":	"2023-05-05T03:14:13Z",
	"devaddr":	"3EB4A376",
	"fcnt":	1,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	468,
	"humi":	53,
	"temp":	26.4,
	"lux":	296.66,
	"localtime":	"2023-05-05 11:14:13"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401D4021201080073E2",
	"datatype":	0,
	"datetime":	"2023-05-05T03:14:13Z",
	"devaddr":	"3EB4A376",
	"fcnt":	1,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	468,
	"humi":	53,
	"temp":	26.4,
	"lux":	296.66,
	"localtime":	"2023-05-05 11:14:13"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:14:13.715] [debug] [DB.cpp:112] [11139] [insertData]: Auto increment id:457
[2023-05-05 11:14:13.715] [info] [rule.cpp:240] [11139] [setSourceData]: temp:26.4 humi:53 lux:296.66 co:20 co2:468 h2s:5 nh3:3
[2023-05-05 11:14:13.754] [debug] [mqtt_connector.cpp:168] [11135] [defaultDelivered]: Message with token value '5' delivery confirmed
[2023-05-05 11:14:21.009] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:14:21.010] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:14:21.010] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:14:31.010] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:14:31.011] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:14:31.011] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:14:41.011] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:14:41.011] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:14:41.011] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:14:45.774] [debug] [main.cpp:118] [11140] [processData]: Message arrived:
[2023-05-05 11:14:45.774] [debug] [main.cpp:119] [11140] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"0000030005001401B60212010A00767D","data1":3,"data2":5,"data3":20,"data4":438,"data5":530,"data6":266,"data7":30333,"datatype":0,"datetime":"2023-05-05T03:14:45Z","datr":"SF10BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":2,"freq":475.7,"lsnr":-16.5,"mac":"B827EBFFFE2114B5","port":2,"rssi":-112}'
[2023-05-05 11:14:45.774] [debug] [json_str_convertor.cpp:206] [11140] [parseNodeUplink]: 2023-05-05T03:14:45Z
[2023-05-05 11:14:45.774] [debug] [json_str_convertor.cpp:240] [11140] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401B60212010A00767D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:14:45Z",
	"devaddr":	"3EB4A376",
	"fcnt":	2,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	438,
	"humi":	53,
	"temp":	26.6,
	"lux":	303.33,
	"localtime":	"2023-05-05 11:14:45"
}
[2023-05-05 11:14:45.774] [debug] [mqtt_connector.cpp:112] [11140] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401B60212010A00767D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:14:45Z",
	"devaddr":	"3EB4A376",
	"fcnt":	2,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	438,
	"humi":	53,
	"temp":	26.6,
	"lux":	303.33,
	"localtime":	"2023-05-05 11:14:45"
}'
[2023-05-05 11:14:45.774] [debug] [mqtt_connector.cpp:120] [11140] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401B60212010A00767D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:14:45Z",
	"devaddr":	"3EB4A376",
	"fcnt":	2,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	438,
	"humi":	53,
	"temp":	26.6,
	"lux":	303.33,
	"localtime":	"2023-05-05 11:14:45"
}'
[2023-05-05 11:14:45.774] [debug] [DB.cpp:110] [11140] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401B60212010A00767D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:14:45Z",
	"devaddr":	"3EB4A376",
	"fcnt":	2,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	438,
	"humi":	53,
	"temp":	26.6,
	"lux":	303.33,
	"localtime":	"2023-05-05 11:14:45"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401B60212010A00767D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:14:45Z",
	"devaddr":	"3EB4A376",
	"fcnt":	2,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	438,
	"humi":	53,
	"temp":	26.6,
	"lux":	303.33,
	"localtime":	"2023-05-05 11:14:45"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:14:45.781] [debug] [mysql_pool.cpp:208] [11140] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401B60212010A00767D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:14:45Z",
	"devaddr":	"3EB4A376",
	"fcnt":	2,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	438,
	"humi":	53,
	"temp":	26.6,
	"lux":	303.33,
	"localtime":	"2023-05-05 11:14:45"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401B60212010A00767D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:14:45Z",
	"devaddr":	"3EB4A376",
	"fcnt":	2,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	438,
	"humi":	53,
	"temp":	26.6,
	"lux":	303.33,
	"localtime":	"2023-05-05 11:14:45"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:14:45.781] [debug] [DB.cpp:112] [11140] [insertData]: Auto increment id:458
[2023-05-05 11:14:45.781] [info] [rule.cpp:240] [11140] [setSourceData]: temp:26.6 humi:53 lux:303.33 co:20 co2:438 h2s:5 nh3:3
[2023-05-05 11:14:45.814] [debug] [mqtt_connector.cpp:168] [11135] [defaultDelivered]: Message with token value '6' delivery confirmed
[2023-05-05 11:14:51.012] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:14:51.012] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:14:51.012] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:15:01.013] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:15:01.013] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:15:01.013] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:15:11.013] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:15:11.015] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:15:11.015] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:15:21.015] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:15:21.016] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:15:21.016] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:15:31.016] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:15:31.017] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:15:31.017] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:15:41.017] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:15:41.018] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:15:41.018] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:15:48.932] [debug] [main.cpp:118] [11141] [processData]: Message arrived:
[2023-05-05 11:15:48.932] [debug] [main.cpp:119] [11141] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"0000020005001401A301FE010D006FFA","data1":2,"data2":5,"data3":20,"data4":419,"data5":510,"data6":269,"data7":28666,"datatype":0,"datetime":"2023-05-05T03:15:48Z","datr":"SF12BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":3,"freq":474.3,"lsnr":-18.5,"mac":"B827EBFFFE2114B5","port":2,"rssi":-112}'
[2023-05-05 11:15:48.932] [debug] [json_str_convertor.cpp:206] [11141] [parseNodeUplink]: 2023-05-05T03:15:48Z
[2023-05-05 11:15:48.933] [debug] [json_str_convertor.cpp:240] [11141] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000020005001401A301FE010D006FFA",
	"datatype":	0,
	"datetime":	"2023-05-05T03:15:48Z",
	"devaddr":	"3EB4A376",
	"fcnt":	3,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	2,
	"h2s":	5,
	"co":	20,
	"co2":	419,
	"humi":	51,
	"temp":	26.9,
	"lux":	286.66,
	"localtime":	"2023-05-05 11:15:48"
}
[2023-05-05 11:15:48.933] [debug] [mqtt_connector.cpp:112] [11141] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000020005001401A301FE010D006FFA",
	"datatype":	0,
	"datetime":	"2023-05-05T03:15:48Z",
	"devaddr":	"3EB4A376",
	"fcnt":	3,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	2,
	"h2s":	5,
	"co":	20,
	"co2":	419,
	"humi":	51,
	"temp":	26.9,
	"lux":	286.66,
	"localtime":	"2023-05-05 11:15:48"
}'
[2023-05-05 11:15:48.933] [debug] [mqtt_connector.cpp:120] [11141] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000020005001401A301FE010D006FFA",
	"datatype":	0,
	"datetime":	"2023-05-05T03:15:48Z",
	"devaddr":	"3EB4A376",
	"fcnt":	3,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	2,
	"h2s":	5,
	"co":	20,
	"co2":	419,
	"humi":	51,
	"temp":	26.9,
	"lux":	286.66,
	"localtime":	"2023-05-05 11:15:48"
}'
[2023-05-05 11:15:48.933] [debug] [DB.cpp:110] [11141] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000020005001401A301FE010D006FFA",
	"datatype":	0,
	"datetime":	"2023-05-05T03:15:48Z",
	"devaddr":	"3EB4A376",
	"fcnt":	3,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	2,
	"h2s":	5,
	"co":	20,
	"co2":	419,
	"humi":	51,
	"temp":	26.9,
	"lux":	286.66,
	"localtime":	"2023-05-05 11:15:48"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000020005001401A301FE010D006FFA",
	"datatype":	0,
	"datetime":	"2023-05-05T03:15:48Z",
	"devaddr":	"3EB4A376",
	"fcnt":	3,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	2,
	"h2s":	5,
	"co":	20,
	"co2":	419,
	"humi":	51,
	"temp":	26.9,
	"lux":	286.66,
	"localtime":	"2023-05-05 11:15:48"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:15:48.974] [debug] [mqtt_connector.cpp:168] [11135] [defaultDelivered]: Message with token value '7' delivery confirmed
[2023-05-05 11:15:49.436] [debug] [mysql_pool.cpp:208] [11141] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000020005001401A301FE010D006FFA",
	"datatype":	0,
	"datetime":	"2023-05-05T03:15:48Z",
	"devaddr":	"3EB4A376",
	"fcnt":	3,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	2,
	"h2s":	5,
	"co":	20,
	"co2":	419,
	"humi":	51,
	"temp":	26.9,
	"lux":	286.66,
	"localtime":	"2023-05-05 11:15:48"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000020005001401A301FE010D006FFA",
	"datatype":	0,
	"datetime":	"2023-05-05T03:15:48Z",
	"devaddr":	"3EB4A376",
	"fcnt":	3,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	2,
	"h2s":	5,
	"co":	20,
	"co2":	419,
	"humi":	51,
	"temp":	26.9,
	"lux":	286.66,
	"localtime":	"2023-05-05 11:15:48"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:15:49.436] [debug] [DB.cpp:112] [11141] [insertData]: Auto increment id:459
[2023-05-05 11:15:49.437] [info] [rule.cpp:240] [11141] [setSourceData]: temp:26.9 humi:51 lux:286.66 co:20 co2:419 h2s:5 nh3:2
[2023-05-05 11:15:51.018] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:15:51.019] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:15:51.019] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:16:01.019] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:16:01.020] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:16:01.020] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:16:11.020] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:16:11.021] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:16:11.021] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:16:21.021] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:16:21.022] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:16:21.022] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:16:31.022] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:16:31.023] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:16:31.023] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:16:41.023] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:16:41.024] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:16:41.024] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:16:47.387] [debug] [main.cpp:118] [11142] [processData]: Message arrived:
[2023-05-05 11:16:47.387] [debug] [main.cpp:119] [11142] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"00000200050014019001EA0110007436","data1":2,"data2":5,"data3":20,"data4":400,"data5":490,"data6":272,"data7":29750,"datatype":0,"datetime":"2023-05-05T03:16:47Z","datr":"SF10BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":4,"freq":474.5,"lsnr":-3.8,"mac":"B827EBFFFE2114B5","port":2,"rssi":-110}'
[2023-05-05 11:16:47.387] [debug] [json_str_convertor.cpp:206] [11142] [parseNodeUplink]: 2023-05-05T03:16:47Z
[2023-05-05 11:16:47.387] [debug] [json_str_convertor.cpp:240] [11142] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000200050014019001EA0110007436",
	"datatype":	0,
	"datetime":	"2023-05-05T03:16:47Z",
	"devaddr":	"3EB4A376",
	"fcnt":	4,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	2,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	49,
	"temp":	27.2,
	"lux":	297.5,
	"localtime":	"2023-05-05 11:16:47"
}
[2023-05-05 11:16:47.387] [debug] [mqtt_connector.cpp:112] [11142] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000200050014019001EA0110007436",
	"datatype":	0,
	"datetime":	"2023-05-05T03:16:47Z",
	"devaddr":	"3EB4A376",
	"fcnt":	4,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	2,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	49,
	"temp":	27.2,
	"lux":	297.5,
	"localtime":	"2023-05-05 11:16:47"
}'
[2023-05-05 11:16:47.387] [debug] [mqtt_connector.cpp:120] [11142] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000200050014019001EA0110007436",
	"datatype":	0,
	"datetime":	"2023-05-05T03:16:47Z",
	"devaddr":	"3EB4A376",
	"fcnt":	4,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	2,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	49,
	"temp":	27.2,
	"lux":	297.5,
	"localtime":	"2023-05-05 11:16:47"
}'
[2023-05-05 11:16:47.387] [debug] [DB.cpp:110] [11142] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000200050014019001EA0110007436",
	"datatype":	0,
	"datetime":	"2023-05-05T03:16:47Z",
	"devaddr":	"3EB4A376",
	"fcnt":	4,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	2,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	49,
	"temp":	27.2,
	"lux":	297.5,
	"localtime":	"2023-05-05 11:16:47"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000200050014019001EA0110007436",
	"datatype":	0,
	"datetime":	"2023-05-05T03:16:47Z",
	"devaddr":	"3EB4A376",
	"fcnt":	4,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	2,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	49,
	"temp":	27.2,
	"lux":	297.5,
	"localtime":	"2023-05-05 11:16:47"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:16:47.400] [debug] [mysql_pool.cpp:208] [11142] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000200050014019001EA0110007436",
	"datatype":	0,
	"datetime":	"2023-05-05T03:16:47Z",
	"devaddr":	"3EB4A376",
	"fcnt":	4,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	2,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	49,
	"temp":	27.2,
	"lux":	297.5,
	"localtime":	"2023-05-05 11:16:47"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000200050014019001EA0110007436",
	"datatype":	0,
	"datetime":	"2023-05-05T03:16:47Z",
	"devaddr":	"3EB4A376",
	"fcnt":	4,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	2,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	49,
	"temp":	27.2,
	"lux":	297.5,
	"localtime":	"2023-05-05 11:16:47"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:16:47.400] [debug] [DB.cpp:112] [11142] [insertData]: Auto increment id:460
[2023-05-05 11:16:47.400] [info] [rule.cpp:240] [11142] [setSourceData]: temp:27.2 humi:49 lux:297.5 co:20 co2:400 h2s:5 nh3:2
[2023-05-05 11:16:47.434] [debug] [mqtt_connector.cpp:168] [11135] [defaultDelivered]: Message with token value '8' delivery confirmed
[2023-05-05 11:16:51.024] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:16:51.024] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:16:51.024] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:17:01.024] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:17:01.025] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:17:01.025] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:17:11.025] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:17:11.026] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:17:11.026] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:17:21.026] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:17:21.027] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:17:21.027] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:17:31.027] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:17:31.028] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:17:31.028] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:17:37.003] [debug] [main.cpp:118] [11143] [processData]: Message arrived:
[2023-05-05 11:17:37.003] [debug] [main.cpp:119] [11143] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"0000020005001401CF01E0011200767D","data1":2,"data2":5,"data3":20,"data4":463,"data5":480,"data6":274,"data7":30333,"datatype":0,"datetime":"2023-05-05T03:17:36Z","datr":"SF12BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":5,"freq":475.7,"lsnr":-20.0,"mac":"B827EBFFFE2114B5","port":2,"rssi":-100}'
[2023-05-05 11:17:37.003] [debug] [json_str_convertor.cpp:206] [11143] [parseNodeUplink]: 2023-05-05T03:17:36Z
[2023-05-05 11:17:37.003] [debug] [json_str_convertor.cpp:240] [11143] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000020005001401CF01E0011200767D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:17:36Z",
	"devaddr":	"3EB4A376",
	"fcnt":	5,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	2,
	"h2s":	5,
	"co":	20,
	"co2":	463,
	"humi":	48,
	"temp":	27.4,
	"lux":	303.33,
	"localtime":	"2023-05-05 11:17:36"
}
[2023-05-05 11:17:37.003] [debug] [mqtt_connector.cpp:112] [11143] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000020005001401CF01E0011200767D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:17:36Z",
	"devaddr":	"3EB4A376",
	"fcnt":	5,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	2,
	"h2s":	5,
	"co":	20,
	"co2":	463,
	"humi":	48,
	"temp":	27.4,
	"lux":	303.33,
	"localtime":	"2023-05-05 11:17:36"
}'
[2023-05-05 11:17:37.003] [debug] [mqtt_connector.cpp:120] [11143] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000020005001401CF01E0011200767D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:17:36Z",
	"devaddr":	"3EB4A376",
	"fcnt":	5,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	2,
	"h2s":	5,
	"co":	20,
	"co2":	463,
	"humi":	48,
	"temp":	27.4,
	"lux":	303.33,
	"localtime":	"2023-05-05 11:17:36"
}'
[2023-05-05 11:17:37.003] [debug] [DB.cpp:110] [11143] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000020005001401CF01E0011200767D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:17:36Z",
	"devaddr":	"3EB4A376",
	"fcnt":	5,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	2,
	"h2s":	5,
	"co":	20,
	"co2":	463,
	"humi":	48,
	"temp":	27.4,
	"lux":	303.33,
	"localtime":	"2023-05-05 11:17:36"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000020005001401CF01E0011200767D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:17:36Z",
	"devaddr":	"3EB4A376",
	"fcnt":	5,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	2,
	"h2s":	5,
	"co":	20,
	"co2":	463,
	"humi":	48,
	"temp":	27.4,
	"lux":	303.33,
	"localtime":	"2023-05-05 11:17:36"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:17:37.011] [debug] [mysql_pool.cpp:208] [11143] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000020005001401CF01E0011200767D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:17:36Z",
	"devaddr":	"3EB4A376",
	"fcnt":	5,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	2,
	"h2s":	5,
	"co":	20,
	"co2":	463,
	"humi":	48,
	"temp":	27.4,
	"lux":	303.33,
	"localtime":	"2023-05-05 11:17:36"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000020005001401CF01E0011200767D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:17:36Z",
	"devaddr":	"3EB4A376",
	"fcnt":	5,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	2,
	"h2s":	5,
	"co":	20,
	"co2":	463,
	"humi":	48,
	"temp":	27.4,
	"lux":	303.33,
	"localtime":	"2023-05-05 11:17:36"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:17:37.011] [debug] [DB.cpp:112] [11143] [insertData]: Auto increment id:461
[2023-05-05 11:17:37.011] [info] [rule.cpp:240] [11143] [setSourceData]: temp:27.4 humi:48 lux:303.33 co:20 co2:463 h2s:5 nh3:2
[2023-05-05 11:17:37.044] [debug] [mqtt_connector.cpp:168] [11135] [defaultDelivered]: Message with token value '9' delivery confirmed
[2023-05-05 11:17:41.028] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:17:41.029] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:17:41.029] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:17:51.029] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:17:51.029] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:17:51.029] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:18:01.029] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:18:01.030] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:18:01.030] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:18:08.978] [debug] [main.cpp:118] [11137] [processData]: Message arrived:
[2023-05-05 11:18:08.978] [debug] [main.cpp:119] [11137] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"00000300050014019001F40114007F9A","data1":3,"data2":5,"data3":20,"data4":400,"data5":500,"data6":276,"data7":32666,"datatype":0,"datetime":"2023-05-05T03:18:08Z","datr":"SF10BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":6,"freq":475.7,"lsnr":-15.8,"mac":"B827EBFFFE2114B5","port":2,"rssi":-110}'
[2023-05-05 11:18:08.978] [debug] [json_str_convertor.cpp:206] [11137] [parseNodeUplink]: 2023-05-05T03:18:08Z
[2023-05-05 11:18:08.978] [debug] [json_str_convertor.cpp:240] [11137] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014019001F40114007F9A",
	"datatype":	0,
	"datetime":	"2023-05-05T03:18:08Z",
	"devaddr":	"3EB4A376",
	"fcnt":	6,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	50,
	"temp":	27.6,
	"lux":	326.66,
	"localtime":	"2023-05-05 11:18:08"
}
[2023-05-05 11:18:08.978] [debug] [mqtt_connector.cpp:112] [11137] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014019001F40114007F9A",
	"datatype":	0,
	"datetime":	"2023-05-05T03:18:08Z",
	"devaddr":	"3EB4A376",
	"fcnt":	6,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	50,
	"temp":	27.6,
	"lux":	326.66,
	"localtime":	"2023-05-05 11:18:08"
}'
[2023-05-05 11:18:08.978] [debug] [mqtt_connector.cpp:120] [11137] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014019001F40114007F9A",
	"datatype":	0,
	"datetime":	"2023-05-05T03:18:08Z",
	"devaddr":	"3EB4A376",
	"fcnt":	6,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	50,
	"temp":	27.6,
	"lux":	326.66,
	"localtime":	"2023-05-05 11:18:08"
}'
[2023-05-05 11:18:08.978] [debug] [DB.cpp:110] [11137] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014019001F40114007F9A",
	"datatype":	0,
	"datetime":	"2023-05-05T03:18:08Z",
	"devaddr":	"3EB4A376",
	"fcnt":	6,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	50,
	"temp":	27.6,
	"lux":	326.66,
	"localtime":	"2023-05-05 11:18:08"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014019001F40114007F9A",
	"datatype":	0,
	"datetime":	"2023-05-05T03:18:08Z",
	"devaddr":	"3EB4A376",
	"fcnt":	6,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	50,
	"temp":	27.6,
	"lux":	326.66,
	"localtime":	"2023-05-05 11:18:08"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:18:08.985] [debug] [mysql_pool.cpp:208] [11137] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014019001F40114007F9A",
	"datatype":	0,
	"datetime":	"2023-05-05T03:18:08Z",
	"devaddr":	"3EB4A376",
	"fcnt":	6,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	50,
	"temp":	27.6,
	"lux":	326.66,
	"localtime":	"2023-05-05 11:18:08"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014019001F40114007F9A",
	"datatype":	0,
	"datetime":	"2023-05-05T03:18:08Z",
	"devaddr":	"3EB4A376",
	"fcnt":	6,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	50,
	"temp":	27.6,
	"lux":	326.66,
	"localtime":	"2023-05-05 11:18:08"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:18:08.985] [debug] [DB.cpp:112] [11137] [insertData]: Auto increment id:462
[2023-05-05 11:18:08.985] [info] [rule.cpp:240] [11137] [setSourceData]: temp:27.6 humi:50 lux:326.66 co:20 co2:400 h2s:5 nh3:3
[2023-05-05 11:18:09.024] [debug] [mqtt_connector.cpp:168] [11135] [defaultDelivered]: Message with token value '10' delivery confirmed
[2023-05-05 11:18:11.030] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:18:11.031] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:18:11.031] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:18:21.031] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:18:21.032] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:18:21.032] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:18:31.032] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:18:31.033] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:18:31.033] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:18:41.033] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:18:41.033] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:18:41.034] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:18:51.034] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:18:51.034] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:18:51.034] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:19:01.034] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:19:01.035] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:19:01.035] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:19:11.035] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:19:11.036] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:19:11.036] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:19:21.036] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:19:21.037] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:19:21.037] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:19:31.037] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:19:31.038] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:19:31.038] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:19:35.027] [debug] [main.cpp:118] [11138] [processData]: Message arrived:
[2023-05-05 11:19:35.027] [debug] [main.cpp:119] [11138] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"0000030005001401CF01CC0117009804","data1":3,"data2":5,"data3":20,"data4":463,"data5":460,"data6":279,"data7":38916,"datatype":0,"datetime":"2023-05-05T03:19:34Z","datr":"SF12BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":7,"freq":474.7,"lsnr":-20.5,"mac":"B827EBFFFE2114B5","port":2,"rssi":-113}'
[2023-05-05 11:19:35.027] [debug] [json_str_convertor.cpp:206] [11138] [parseNodeUplink]: 2023-05-05T03:19:34Z
[2023-05-05 11:19:35.027] [debug] [json_str_convertor.cpp:240] [11138] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401CF01CC0117009804",
	"datatype":	0,
	"datetime":	"2023-05-05T03:19:34Z",
	"devaddr":	"3EB4A376",
	"fcnt":	7,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	463,
	"humi":	46,
	"temp":	27.9,
	"lux":	389.16,
	"localtime":	"2023-05-05 11:19:34"
}
[2023-05-05 11:19:35.027] [debug] [mqtt_connector.cpp:112] [11138] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401CF01CC0117009804",
	"datatype":	0,
	"datetime":	"2023-05-05T03:19:34Z",
	"devaddr":	"3EB4A376",
	"fcnt":	7,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	463,
	"humi":	46,
	"temp":	27.9,
	"lux":	389.16,
	"localtime":	"2023-05-05 11:19:34"
}'
[2023-05-05 11:19:35.027] [debug] [mqtt_connector.cpp:120] [11138] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401CF01CC0117009804",
	"datatype":	0,
	"datetime":	"2023-05-05T03:19:34Z",
	"devaddr":	"3EB4A376",
	"fcnt":	7,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	463,
	"humi":	46,
	"temp":	27.9,
	"lux":	389.16,
	"localtime":	"2023-05-05 11:19:34"
}'
[2023-05-05 11:19:35.027] [debug] [DB.cpp:110] [11138] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401CF01CC0117009804",
	"datatype":	0,
	"datetime":	"2023-05-05T03:19:34Z",
	"devaddr":	"3EB4A376",
	"fcnt":	7,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	463,
	"humi":	46,
	"temp":	27.9,
	"lux":	389.16,
	"localtime":	"2023-05-05 11:19:34"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401CF01CC0117009804",
	"datatype":	0,
	"datetime":	"2023-05-05T03:19:34Z",
	"devaddr":	"3EB4A376",
	"fcnt":	7,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	463,
	"humi":	46,
	"temp":	27.9,
	"lux":	389.16,
	"localtime":	"2023-05-05 11:19:34"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:19:35.034] [debug] [mysql_pool.cpp:208] [11138] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401CF01CC0117009804",
	"datatype":	0,
	"datetime":	"2023-05-05T03:19:34Z",
	"devaddr":	"3EB4A376",
	"fcnt":	7,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	463,
	"humi":	46,
	"temp":	27.9,
	"lux":	389.16,
	"localtime":	"2023-05-05 11:19:34"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401CF01CC0117009804",
	"datatype":	0,
	"datetime":	"2023-05-05T03:19:34Z",
	"devaddr":	"3EB4A376",
	"fcnt":	7,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	463,
	"humi":	46,
	"temp":	27.9,
	"lux":	389.16,
	"localtime":	"2023-05-05 11:19:34"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:19:35.034] [debug] [DB.cpp:112] [11138] [insertData]: Auto increment id:463
[2023-05-05 11:19:35.034] [info] [rule.cpp:240] [11138] [setSourceData]: temp:27.9 humi:46 lux:389.16 co:20 co2:463 h2s:5 nh3:3
[2023-05-05 11:19:35.074] [debug] [mqtt_connector.cpp:168] [11135] [defaultDelivered]: Message with token value '11' delivery confirmed
[2023-05-05 11:19:41.038] [debug] [DB.cpp:190] [11136] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:19:41.038] [debug] [DB.cpp:193] [11136] [queryUnexecutedCmd]: false
[2023-05-05 11:19:41.038] [info] [main.cpp:259] [11136] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:19:50.921] [debug] [main.cpp:118] [11139] [processData]: Message arrived:
[2023-05-05 11:19:50.921] [debug] [main.cpp:119] [11139] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"00000300050014019001CC011A00AA3F","data1":3,"data2":5,"data3":20,"data4":400,"data5":460,"data6":282,"data7":43583,"datatype":0,"datetime":"2023-05-05T03:19:50Z","datr":"SF12BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":8,"freq":474.7,"lsnr":-9.5,"mac":"B827EBFFFE2114B5","port":2,"rssi":-109}'
[2023-05-05 11:19:50.921] [debug] [json_str_convertor.cpp:206] [11139] [parseNodeUplink]: 2023-05-05T03:19:50Z
[2023-05-05 11:19:50.921] [debug] [json_str_convertor.cpp:240] [11139] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014019001CC011A00AA3F",
	"datatype":	0,
	"datetime":	"2023-05-05T03:19:50Z",
	"devaddr":	"3EB4A376",
	"fcnt":	8,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	46,
	"temp":	28.2,
	"lux":	435.83,
	"localtime":	"2023-05-05 11:19:50"
}
[2023-05-05 11:19:50.921] [debug] [mqtt_connector.cpp:112] [11139] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014019001CC011A00AA3F",
	"datatype":	0,
	"datetime":	"2023-05-05T03:19:50Z",
	"devaddr":	"3EB4A376",
	"fcnt":	8,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	46,
	"temp":	28.2,
	"lux":	435.83,
	"localtime":	"2023-05-05 11:19:50"
}'
[2023-05-05 11:19:50.921] [debug] [mqtt_connector.cpp:120] [11139] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014019001CC011A00AA3F",
	"datatype":	0,
	"datetime":	"2023-05-05T03:19:50Z",
	"devaddr":	"3EB4A376",
	"fcnt":	8,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	46,
	"temp":	28.2,
	"lux":	435.83,
	"localtime":	"2023-05-05 11:19:50"
}'
[2023-05-05 11:19:50.921] [debug] [DB.cpp:110] [11139] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"ap[2023-05-05 11:34:48.456] [logger] [debug] [mysql_pool.cpp:15] mysql_library_init()succeed
[2023-05-05 11:34:48.466] [logger] [debug] [mysql_pool.cpp:257] CREATE TABLE IF NOT EXISTS `data`  (
                            `id` int(11) NOT NULL AUTO_INCREMENT,
                            `dev_addr` varchar(255) CHARACTER SET utf8 NOT NULL,
                            `data_type` int(11) NOT NULL,
                            `frame` json DEFAULT NULL CHECK (JSON_VALID(`frame`)),
                            `send_status` tinyint(1) NULL DEFAULT 1,
                            PRIMARY KEY (`id`) USING BTREE,
                            INDEX `dev_addr`(`dev_addr`) USING BTREE,
                            INDEX `data_type`(`data_type`) USING BTREE,
                            UNIQUE INDEX `frame`(`frame`(512)) USING BTREE
                            ) ENGINE = InnoDB  CHARACTER SET = utf8;
[2023-05-05 11:34:48.467] [logger] [debug] [mysql_pool.cpp:257] CREATE TABLE IF NOT EXISTS `cmd` (`id` int auto_increment,`data_id` int,`cmd` json DEFAULT NULL CHECK (JSON_VALID(`cmd`)), `datetime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, `exe_status` tinyint(3) UNSIGNED NOT NULL DEFAULT 0, `send_status` tinyint(3) UNSIGNED NOT NULL DEFAULT 0,PRIMARY KEY (`id`) USING BTREE, INDEX `exe_status`(`exe_status`) USING BTREE, INDEX `send_status`(`send_status`) USING BTREE,INDEX `datetime`(`datetime`) USING BTREE, UNIQUE INDEX `cmd`(`cmd`(100)) USING BTREE)ENGINE=InnoDB DEFAULT CHARSET=utf8;
[2023-05-05 11:34:48.467] [info] [main.cpp:53] [10321] [main]: Current Path: /home/pi/gateway-data-process/cmake-build-release
[2023-05-05 11:34:48.480] [debug] [json_str_convertor.cpp:326] [10321] [parseRuleFile]: {
  "0": {
    "source": "3EB4A376",
    "conditions": {
      "0":{
        "co2min": 0,
        "co2max": 500,
        "comin": 0,
        "comax": 200,
        "h2smin": 0,
        "h2smax": 6000,
        "nh3min": 0,
        "nh3max": 1500,
        "tempmin": 0,
        "tempmax": 30,
        "humimin": 0,
        "humimax": 40,
        "luxmin": 0,
        "luxmax": 100
      }
    },
    "targets": {
      "0": ["B54E453C"]
    },
    "actions": {
      "0": {
        "light": "close",
        "fun": "close"
      }
    }
  }
}
[2023-05-05 11:34:48.480] [info] [main.cpp:75] [10321] [main]: Set Rules successful!
[2023-05-05 11:34:48.489] [debug] [mqtt_connector.cpp:127] [10328] [defaultOnSuccessConnected]: successConnected Message with token value '0' delivery confirmed
[2023-05-05 11:34:48.489] [debug] [mqtt_connector.cpp:98] [10328] [connectorSubscribe]: Succeed in subscribing topic 'uplinkFromNode/#' , error code:0
[2023-05-05 11:34:48.489] [debug] [mqtt_connector.cpp:98] [10328] [connectorSubscribe]: Succeed in subscribing topic '$SYS/broker/connection/raspberrypi.raspberry/state' , error code:0
[2023-05-05 11:34:48.489] [debug] [mqtt_connector.cpp:98] [10328] [connectorSubscribe]: Succeed in subscribing topic 'rulesFromCloud' , error code:0
[2023-05-05 11:34:48.489] [debug] [main.cpp:88] [10328] [eachConnectedCallback]: Connection successful.
[2023-05-05 11:34:48.489] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:34:48.490] [debug] [mqtt_connector.cpp:147] [10328] [defaultOnSuccessSubscribe]: Subscribe successful. Message with token value '1' delivery confirmed
[2023-05-05 11:34:48.490] [debug] [mqtt_connector.cpp:147] [10328] [defaultOnSuccessSubscribe]: Subscribe successful. Message with token value '2' delivery confirmed
[2023-05-05 11:34:48.490] [debug] [main.cpp:118] [10331] [processData]: Message arrived:
[2023-05-05 11:34:48.490] [debug] [main.cpp:119] [10331] [processData]: topic: '$SYS/broker/connection/raspberrypi.raspberry/state'	payload: '0'
[2023-05-05 11:34:48.490] [debug] [mqtt_connector.cpp:147] [10328] [defaultOnSuccessSubscribe]: Subscribe successful. Message with token value '3' delivery confirmed
[2023-05-05 11:34:48.500] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:34:48.501] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:34:58.501] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:34:58.502] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:34:58.502] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:35:08.502] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:35:08.503] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:35:08.503] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:35:18.503] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:35:18.503] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:35:18.504] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:35:28.504] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:35:28.504] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:35:28.504] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:35:38.504] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:35:38.505] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:35:38.505] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:35:48.505] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:35:48.506] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:35:48.506] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:35:58.506] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:35:58.507] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:35:58.507] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:36:08.507] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:36:08.508] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:36:08.508] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:36:18.508] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:36:18.508] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:36:18.508] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:36:28.508] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:36:28.509] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:36:28.509] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:36:38.134] [debug] [main.cpp:118] [10330] [processData]: Message arrived:
[2023-05-05 11:36:38.134] [debug] [main.cpp:119] [10330] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"0000030005001401900190013001528A","data1":3,"data2":5,"data3":20,"data4":400,"data5":400,"data6":304,"data7":86666,"datatype":0,"datetime":"2023-05-05T03:36:37Z","datr":"SF12BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":25,"freq":474.7,"lsnr":-9.8,"mac":"B827EBFFFE2114B5","port":2,"rssi":-109}'
[2023-05-05 11:36:38.134] [debug] [json_str_convertor.cpp:206] [10330] [parseNodeUplink]: 2023-05-05T03:36:37Z
[2023-05-05 11:36:38.134] [debug] [json_str_convertor.cpp:240] [10330] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401900190013001528A",
	"datatype":	0,
	"datetime":	"2023-05-05T03:36:37Z",
	"devaddr":	"3EB4A376",
	"fcnt":	25,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	40,
	"temp":	30.4,
	"lux":	866.66,
	"localtime":	"2023-05-05 11:36:37"
}
[2023-05-05 11:36:38.134] [debug] [mqtt_connector.cpp:112] [10330] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401900190013001528A",
	"datatype":	0,
	"datetime":	"2023-05-05T03:36:37Z",
	"devaddr":	"3EB4A376",
	"fcnt":	25,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	40,
	"temp":	30.4,
	"lux":	866.66,
	"localtime":	"2023-05-05 11:36:37"
}'
[2023-05-05 11:36:38.134] [debug] [mqtt_connector.cpp:120] [10330] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401900190013001528A",
	"datatype":	0,
	"datetime":	"2023-05-05T03:36:37Z",
	"devaddr":	"3EB4A376",
	"fcnt":	25,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	40,
	"temp":	30.4,
	"lux":	866.66,
	"localtime":	"2023-05-05 11:36:37"
}'
[2023-05-05 11:36:38.134] [debug] [DB.cpp:110] [10330] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401900190013001528A",
	"datatype":	0,
	"datetime":	"2023-05-05T03:36:37Z",
	"devaddr":	"3EB4A376",
	"fcnt":	25,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	40,
	"temp":	30.4,
	"lux":	866.66,
	"localtime":	"2023-05-05 11:36:37"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401900190013001528A",
	"datatype":	0,
	"datetime":	"2023-05-05T03:36:37Z",
	"devaddr":	"3EB4A376",
	"fcnt":	25,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	40,
	"temp":	30.4,
	"lux":	866.66,
	"localtime":	"2023-05-05 11:36:37"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:36:38.148] [debug] [mysql_pool.cpp:208] [10330] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401900190013001528A",
	"datatype":	0,
	"datetime":	"2023-05-05T03:36:37Z",
	"devaddr":	"3EB4A376",
	"fcnt":	25,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	40,
	"temp":	30.4,
	"lux":	866.66,
	"localtime":	"2023-05-05 11:36:37"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401900190013001528A",
	"datatype":	0,
	"datetime":	"2023-05-05T03:36:37Z",
	"devaddr":	"3EB4A376",
	"fcnt":	25,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	40,
	"temp":	30.4,
	"lux":	866.66,
	"localtime":	"2023-05-05 11:36:37"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:36:38.148] [debug] [DB.cpp:112] [10330] [insertData]: Auto increment id:465
[2023-05-05 11:36:38.148] [info] [rule.cpp:240] [10330] [setSourceData]: temp:30.4 humi:40 lux:866.66 co:20 co2:400 h2s:5 nh3:3
[2023-05-05 11:36:38.184] [debug] [mqtt_connector.cpp:168] [10328] [defaultDelivered]: Message with token value '4' delivery confirmed
[2023-05-05 11:36:38.509] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:36:38.510] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:36:38.510] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:36:48.510] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:36:48.511] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:36:48.511] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:36:58.210] [debug] [main.cpp:118] [10336] [processData]: Message arrived:
[2023-05-05 11:36:58.210] [debug] [main.cpp:119] [10336] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"0000030005001401900186013001496D","data1":3,"data2":5,"data3":20,"data4":400,"data5":390,"data6":304,"data7":84333,"datatype":0,"datetime":"2023-05-05T03:36:58Z","datr":"SF10BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":26,"freq":474.3,"lsnr":-3.2,"mac":"B827EBFFFE2114B5","port":2,"rssi":-110}'
[2023-05-05 11:36:58.210] [debug] [json_str_convertor.cpp:206] [10336] [parseNodeUplink]: 2023-05-05T03:36:58Z
[2023-05-05 11:36:58.210] [debug] [json_str_convertor.cpp:240] [10336] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401900186013001496D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:36:58Z",
	"devaddr":	"3EB4A376",
	"fcnt":	26,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	39,
	"temp":	30.4,
	"lux":	843.33,
	"localtime":	"2023-05-05 11:36:58"
}
[2023-05-05 11:36:58.210] [debug] [mqtt_connector.cpp:112] [10336] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401900186013001496D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:36:58Z",
	"devaddr":	"3EB4A376",
	"fcnt":	26,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	39,
	"temp":	30.4,
	"lux":	843.33,
	"localtime":	"2023-05-05 11:36:58"
}'
[2023-05-05 11:36:58.210] [debug] [mqtt_connector.cpp:120] [10336] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401900186013001496D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:36:58Z",
	"devaddr":	"3EB4A376",
	"fcnt":	26,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	39,
	"temp":	30.4,
	"lux":	843.33,
	"localtime":	"2023-05-05 11:36:58"
}'
[2023-05-05 11:36:58.210] [debug] [DB.cpp:110] [10336] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401900186013001496D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:36:58Z",
	"devaddr":	"3EB4A376",
	"fcnt":	26,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	39,
	"temp":	30.4,
	"lux":	843.33,
	"localtime":	"2023-05-05 11:36:58"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401900186013001496D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:36:58Z",
	"devaddr":	"3EB4A376",
	"fcnt":	26,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	39,
	"temp":	30.4,
	"lux":	843.33,
	"localtime":	"2023-05-05 11:36:58"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:36:58.217] [debug] [mysql_pool.cpp:208] [10336] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401900186013001496D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:36:58Z",
	"devaddr":	"3EB4A376",
	"fcnt":	26,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	39,
	"temp":	30.4,
	"lux":	843.33,
	"localtime":	"2023-05-05 11:36:58"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401900186013001496D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:36:58Z",
	"devaddr":	"3EB4A376",
	"fcnt":	26,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	39,
	"temp":	30.4,
	"lux":	843.33,
	"localtime":	"2023-05-05 11:36:58"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:36:58.217] [debug] [DB.cpp:112] [10336] [insertData]: Auto increment id:466
[2023-05-05 11:36:58.217] [info] [rule.cpp:240] [10336] [setSourceData]: temp:30.4 humi:39 lux:843.33 co:20 co2:400 h2s:5 nh3:3
[2023-05-05 11:36:58.254] [debug] [mqtt_connector.cpp:168] [10328] [defaultDelivered]: Message with token value '5' delivery confirmed
[2023-05-05 11:36:58.511] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:36:58.512] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:36:58.512] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:37:08.512] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:37:08.513] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:37:08.513] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:37:18.513] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:37:18.514] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:37:18.514] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:37:28.514] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:37:28.515] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:37:28.515] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:37:38.515] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:37:38.516] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:37:38.516] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:37:48.516] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:37:48.517] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:37:48.517] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:37:49.852] [debug] [main.cpp:118] [10335] [processData]: Message arrived:
[2023-05-05 11:37:49.852] [debug] [main.cpp:119] [10335] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"000003000500140190019A0132013DB5","data1":3,"data2":5,"data3":20,"data4":400,"data5":410,"data6":306,"data7":81333,"datatype":0,"datetime":"2023-05-05T03:37:49Z","datr":"SF12BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":0,"freq":474.3,"lsnr":-7.8,"mac":"B827EBFFFE2114B5","port":2,"rssi":-109}'
[2023-05-05 11:37:49.852] [debug] [json_str_convertor.cpp:206] [10335] [parseNodeUplink]: 2023-05-05T03:37:49Z
[2023-05-05 11:37:49.852] [debug] [json_str_convertor.cpp:240] [10335] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"000003000500140190019A0132013DB5",
	"datatype":	0,
	"datetime":	"2023-05-05T03:37:49Z",
	"devaddr":	"3EB4A376",
	"fcnt":	0,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	41,
	"temp":	30.6,
	"lux":	813.33,
	"localtime":	"2023-05-05 11:37:49"
}
[2023-05-05 11:37:49.852] [debug] [mqtt_connector.cpp:112] [10335] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"000003000500140190019A0132013DB5",
	"datatype":	0,
	"datetime":	"2023-05-05T03:37:49Z",
	"devaddr":	"3EB4A376",
	"fcnt":	0,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	41,
	"temp":	30.6,
	"lux":	813.33,
	"localtime":	"2023-05-05 11:37:49"
}'
[2023-05-05 11:37:49.852] [debug] [mqtt_connector.cpp:120] [10335] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"000003000500140190019A0132013DB5",
	"datatype":	0,
	"datetime":	"2023-05-05T03:37:49Z",
	"devaddr":	"3EB4A376",
	"fcnt":	0,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	41,
	"temp":	30.6,
	"lux":	813.33,
	"localtime":	"2023-05-05 11:37:49"
}'
[2023-05-05 11:37:49.852] [debug] [DB.cpp:110] [10335] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"000003000500140190019A0132013DB5",
	"datatype":	0,
	"datetime":	"2023-05-05T03:37:49Z",
	"devaddr":	"3EB4A376",
	"fcnt":	0,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	41,
	"temp":	30.6,
	"lux":	813.33,
	"localtime":	"2023-05-05 11:37:49"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"000003000500140190019A0132013DB5",
	"datatype":	0,
	"datetime":	"2023-05-05T03:37:49Z",
	"devaddr":	"3EB4A376",
	"fcnt":	0,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	41,
	"temp":	30.6,
	"lux":	813.33,
	"localtime":	"2023-05-05 11:37:49"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:37:49.859] [debug] [mysql_pool.cpp:208] [10335] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"000003000500140190019A0132013DB5",
	"datatype":	0,
	"datetime":	"2023-05-05T03:37:49Z",
	"devaddr":	"3EB4A376",
	"fcnt":	0,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	41,
	"temp":	30.6,
	"lux":	813.33,
	"localtime":	"2023-05-05 11:37:49"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"000003000500140190019A0132013DB5",
	"datatype":	0,
	"datetime":	"2023-05-05T03:37:49Z",
	"devaddr":	"3EB4A376",
	"fcnt":	0,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	41,
	"temp":	30.6,
	"lux":	813.33,
	"localtime":	"2023-05-05 11:37:49"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:37:49.859] [debug] [DB.cpp:112] [10335] [insertData]: Auto increment id:467
[2023-05-05 11:37:49.859] [info] [rule.cpp:240] [10335] [setSourceData]: temp:30.6 humi:41 lux:813.33 co:20 co2:400 h2s:5 nh3:3
[2023-05-05 11:37:49.894] [debug] [mqtt_connector.cpp:168] [10328] [defaultDelivered]: Message with token value '6' delivery confirmed
[2023-05-05 11:37:58.517] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:37:58.517] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:37:58.518] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:38:08.518] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:38:08.518] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:38:08.518] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:38:18.518] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:38:18.519] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:38:18.519] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:38:28.519] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:38:28.520] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:38:28.520] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:38:29.294] [debug] [main.cpp:118] [10334] [processData]: Message arrived:
[2023-05-05 11:38:29.294] [debug] [main.cpp:119] [10334] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"0000030005001401E301860132012E15","data1":3,"data2":5,"data3":20,"data4":483,"data5":390,"data6":306,"data7":77333,"datatype":0,"datetime":"2023-05-05T03:38:29Z","datr":"SF10BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":1,"freq":474.5,"lsnr":-2.2,"mac":"B827EBFFFE2114B5","port":2,"rssi":-110}'
[2023-05-05 11:38:29.294] [debug] [json_str_convertor.cpp:206] [10334] [parseNodeUplink]: 2023-05-05T03:38:29Z
[2023-05-05 11:38:29.295] [debug] [json_str_convertor.cpp:240] [10334] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401E301860132012E15",
	"datatype":	0,
	"datetime":	"2023-05-05T03:38:29Z",
	"devaddr":	"3EB4A376",
	"fcnt":	1,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	483,
	"humi":	39,
	"temp":	30.6,
	"lux":	773.33,
	"localtime":	"2023-05-05 11:38:29"
}
[2023-05-05 11:38:29.295] [debug] [mqtt_connector.cpp:112] [10334] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401E301860132012E15",
	"datatype":	0,
	"datetime":	"2023-05-05T03:38:29Z",
	"devaddr":	"3EB4A376",
	"fcnt":	1,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	483,
	"humi":	39,
	"temp":	30.6,
	"lux":	773.33,
	"localtime":	"2023-05-05 11:38:29"
}'
[2023-05-05 11:38:29.295] [debug] [mqtt_connector.cpp:120] [10334] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401E301860132012E15",
	"datatype":	0,
	"datetime":	"2023-05-05T03:38:29Z",
	"devaddr":	"3EB4A376",
	"fcnt":	1,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	483,
	"humi":	39,
	"temp":	30.6,
	"lux":	773.33,
	"localtime":	"2023-05-05 11:38:29"
}'
[2023-05-05 11:38:29.295] [debug] [DB.cpp:110] [10334] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401E301860132012E15",
	"datatype":	0,
	"datetime":	"2023-05-05T03:38:29Z",
	"devaddr":	"3EB4A376",
	"fcnt":	1,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	483,
	"humi":	39,
	"temp":	30.6,
	"lux":	773.33,
	"localtime":	"2023-05-05 11:38:29"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401E301860132012E15",
	"datatype":	0,
	"datetime":	"2023-05-05T03:38:29Z",
	"devaddr":	"3EB4A376",
	"fcnt":	1,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	483,
	"humi":	39,
	"temp":	30.6,
	"lux":	773.33,
	"localtime":	"2023-05-05 11:38:29"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:38:29.301] [debug] [mysql_pool.cpp:208] [10334] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401E301860132012E15",
	"datatype":	0,
	"datetime":	"2023-05-05T03:38:29Z",
	"devaddr":	"3EB4A376",
	"fcnt":	1,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	483,
	"humi":	39,
	"temp":	30.6,
	"lux":	773.33,
	"localtime":	"2023-05-05 11:38:29"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401E301860132012E15",
	"datatype":	0,
	"datetime":	"2023-05-05T03:38:29Z",
	"devaddr":	"3EB4A376",
	"fcnt":	1,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	483,
	"humi":	39,
	"temp":	30.6,
	"lux":	773.33,
	"localtime":	"2023-05-05 11:38:29"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:38:29.301] [debug] [DB.cpp:112] [10334] [insertData]: Auto increment id:468
[2023-05-05 11:38:29.301] [info] [rule.cpp:240] [10334] [setSourceData]: temp:30.6 humi:39 lux:773.33 co:20 co2:483 h2s:5 nh3:3
[2023-05-05 11:38:29.334] [debug] [mqtt_connector.cpp:168] [10328] [defaultDelivered]: Message with token value '7' delivery confirmed
[2023-05-05 11:38:38.520] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:38:38.521] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:38:38.521] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:38:48.521] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:38:48.522] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:38:48.522] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:38:58.522] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:38:58.522] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:38:58.522] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:39:08.522] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:39:08.523] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:39:08.523] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:39:18.523] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:39:18.524] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:39:18.524] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:39:28.524] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:39:28.525] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:39:28.525] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:39:38.525] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:39:38.526] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:39:38.526] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:39:48.526] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:39:48.527] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:39:48.527] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:39:58.527] [debug] [DB.cpp:190] [10329] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:39:58.527] [debug] [DB.cpp:193] [10329] [queryUnexecutedCmd]: false
[2023-05-05 11:39:58.527] [info] [main.cpp:259] [10329] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:40:04.098] [debug] [main.cpp:118] [10333] [processData]: Message arrived:
[2023-05-05 11:40:04.099] [debug] [main.cpp:119] [10333] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"0000030005001402120186013200FFDC","data1":3,"data2":5,"data3":20,"data4":530,"data5":390,"data6":306,"data7":65500,"datatype":0,"datetime":"2023-05-05T03:40:03Z","datr":"SF12BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":2,"freq":474.5,"lsnr":-18.5,"mac":"B827EBFFFE2114B5","port":2,"rssi":-113}'
[2023-05-05 11:40:04.099] [debug] [json_str_convertor.cpp:206] [10333] [parseNodeUplink]: 2023-05-05T03:40:03Z
[2023-05-05 11:40:04.099] [debug] [json_str_convertor.cpp:240] [10333] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001402120186013200FFDC",
	"datatype":	0,
	"datetime":	"2023-05-05T03:40:03Z",
	"devaddr":	"3EB4A376",
	"fcnt":	2,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	530,
	"humi":	39,
	"temp":	30.6,
	"lux":	655,
	"localtime":	"2023-05-05 11:40:03"
}
[2023-05-05 11:40:04.099] [debug] [mqtt_connector.cpp:112] [10333] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001402120186013200FFDC",
	"datatype":	0,
	"datetime":	"2023-05-05T03:40:03Z",
	"devaddr":	"3EB4A376",
	"fcnt":	2,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	530,
	"humi":	39,
	"temp":	30.6,
	"lux":	655,
	"localtime":	"2023-05-05 11:40:03"
}'
[2023-05-05 11:40:04.099] [debug] [mqtt_connector.cpp:120] [10333] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001402120186013200FFDC",
	"datatype":	0,
	"datetime":	"2023-05-05T03:40:03Z",
	"devaddr":	"3EB4A376",
	"fcnt":	2,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	530,
	"humi":	39,
	"temp":	30.6,
	"lux":	655,
	"localtime":	"2023-05-05 11:40:03"
}'
[2023-05-05 11:40:04.099] [debug] [DB.cpp:110] [10333] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001402120186013200FFDC",
	"datatype":	0,
	"datetime":	"2023-05-05T03:40:03Z",
	"devaddr":	"3EB4A376",
	"fcnt":	2,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	530,
	"humi":	39,
	"temp":	30.6,
	"lux":	655,
	"localtime":	"2023-05-05 11:40:03"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001402120186013200FFDC",
	"datatype":	0,
	"datetime":	"2023-05-05T03:40:03Z",
	"devaddr":	"3EB4A376",
	"fcnt":	2,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	530,
	"humi":	39,
	"temp":	30.6,
	"lux":	655,
	"localtime":	"2023-05-05 11:40:03"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:40:04.107] [debug] [mysql_pool.cpp:208] [10333] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001402120186013200FFDC",
	"datatype":	0,
	"datetime":	"2023-05-05T03:40:03Z",
	"devaddr":	"3EB4A376",
	"fcnt":	2,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	530,
	"humi":	39,
	"temp":	30.6,
	"lux":	655,
	"localtime":	"2023-05-05 11:40:03"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001402120186013200FFDC",
	"datatype":	0,
	"datetime":	"2023-05-05T03:40:03Z",
	"devaddr":	"3EB4A376",
	"fcnt":	2,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	530,
	"humi":	39,
	"temp":	30.6,
	"lux":	655,
	"localtime":	"2023-05-05 11:40:03"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:40:04.107] [debug] [DB.cpp:112] [10333] [insertData]: Auto increment id:469
[2023-05-05 11:40:04.107] [info] [rule.cpp:240] [10333] [se[2023-05-05 11:40:32.590] [logger] [debug] [mysql_pool.cpp:15] mysql_library_init()succeed
[2023-05-05 11:40:32.590] [logger] [error] [mysql_pool.cpp:74] Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (2)
[2023-05-05 11:40:32.590] [logger] [error] [mysql_pool.cpp:74] Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (2)
[2023-05-05 11:40:32.590] [info] [main.cpp:53] [504] [main]: Current Path: /home/pi/gateway-data-process/cmake-build-release
[2023-05-05 11:40:32.642] [debug] [json_str_convertor.cpp:326] [504] [parseRuleFile]: {
  "0": {
    "source": "3EB4A376",
    "conditions": {
      "0":{
        "co2min": 0,
        "co2max": 500,
        "comin": 0,
        "comax": 200,
        "h2smin": 0,
        "h2smax": 6000,
        "nh3min": 0,
        "nh3max": 1500,
        "tempmin": 0,
        "tempmax": 30,
        "humimin": 0,
        "humimax": 40,
        "luxmin": 0,
        "luxmax": 100
      }
    },
    "targets": {
      "0": ["B54E453C"]
    },
    "actions": {
      "0": {
        "light": "close",
        "fun": "close"
      }
    }
  }
}
[2023-05-05 11:40:32.642] [info] [main.cpp:75] [504] [main]: Set Rules successful!
[2023-05-05 11:40:32.707] [debug] [mqtt_connector.cpp:127] [644] [defaultOnSuccessConnected]: successConnected Message with token value '0' delivery confirmed
[2023-05-05 11:40:32.707] [debug] [mqtt_connector.cpp:98] [644] [connectorSubscribe]: Succeed in subscribing topic 'uplinkFromNode/#' , error code:0
[2023-05-05 11:40:32.707] [debug] [mqtt_connector.cpp:98] [644] [connectorSubscribe]: Succeed in subscribing topic '$SYS/broker/connection/raspberrypi.raspberry/state' , error code:0
[2023-05-05 11:40:32.707] [debug] [mqtt_connector.cpp:98] [644] [connectorSubscribe]: Succeed in subscribing topic 'rulesFromCloud' , error code:0
[2023-05-05 11:40:32.707] [debug] [main.cpp:88] [644] [eachConnectedCallback]: Connection successful.
[2023-05-05 11:40:32.707] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:40:32.708] [debug] [mqtt_connector.cpp:147] [644] [defaultOnSuccessSubscribe]: Subscribe successful. Message with token value '1' delivery confirmed
[2023-05-05 11:40:32.708] [error] [mysql_pool.cpp:74] [649] [createOneConnect]: Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (2)
[2023-05-05 11:40:32.708] [error] [mysql_pool.cpp:187] [649] [readSql]: 
[2023-05-05 11:40:32.708] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:40:32.708] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:40:32.708] [debug] [mqtt_connector.cpp:147] [644] [defaultOnSuccessSubscribe]: Subscribe successful. Message with token value '2' delivery confirmed
[2023-05-05 11:40:32.708] [debug] [mqtt_connector.cpp:147] [644] [defaultOnSuccessSubscribe]: Subscribe successful. Message with token value '3' delivery confirmed
[2023-05-05 11:40:32.708] [debug] [main.cpp:118] [650] [processData]: Message arrived:
[2023-05-05 11:40:32.708] [debug] [main.cpp:119] [650] [processData]: topic: '$SYS/broker/connection/raspberrypi.raspberry/state'	payload: '0'
[2023-05-05 11:40:42.708] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:40:42.724] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:40:42.724] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:40:52.724] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:40:52.725] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:40:52.725] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:41:25.563] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:41:25.568] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:41:25.568] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:41:26.079] [debug] [main.cpp:118] [646] [processData]: Message arrived:
[2023-05-05 11:41:26.079] [debug] [main.cpp:119] [646] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"0000030005001401900190013300C49D","data1":3,"data2":5,"data3":20,"data4":400,"data5":400,"data6":307,"data7":50333,"datatype":0,"datetime":"2023-05-05T03:41:25Z","datr":"SF12BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":4,"freq":474.9,"lsnr":0.0,"mac":"B827EBFFFE2114B5","port":2,"rssi":-108}'
[2023-05-05 11:41:26.079] [debug] [json_str_convertor.cpp:206] [646] [parseNodeUplink]: 2023-05-05T03:41:25Z
[2023-05-05 11:41:26.079] [debug] [json_str_convertor.cpp:240] [646] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401900190013300C49D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:41:25Z",
	"devaddr":	"3EB4A376",
	"fcnt":	4,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	40,
	"temp":	30.7,
	"lux":	503.33,
	"localtime":	"2023-05-05 11:41:25"
}
[2023-05-05 11:41:26.079] [debug] [mqtt_connector.cpp:112] [646] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401900190013300C49D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:41:25Z",
	"devaddr":	"3EB4A376",
	"fcnt":	4,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	40,
	"temp":	30.7,
	"lux":	503.33,
	"localtime":	"2023-05-05 11:41:25"
}'
[2023-05-05 11:41:26.079] [debug] [mqtt_connector.cpp:120] [646] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401900190013300C49D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:41:25Z",
	"devaddr":	"3EB4A376",
	"fcnt":	4,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	40,
	"temp":	30.7,
	"lux":	503.33,
	"localtime":	"2023-05-05 11:41:25"
}'
[2023-05-05 11:41:26.079] [debug] [DB.cpp:110] [646] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401900190013300C49D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:41:25Z",
	"devaddr":	"3EB4A376",
	"fcnt":	4,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	40,
	"temp":	30.7,
	"lux":	503.33,
	"localtime":	"2023-05-05 11:41:25"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401900190013300C49D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:41:25Z",
	"devaddr":	"3EB4A376",
	"fcnt":	4,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	40,
	"temp":	30.7,
	"lux":	503.33,
	"localtime":	"2023-05-05 11:41:25"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:41:26.091] [debug] [mysql_pool.cpp:208] [646] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401900190013300C49D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:41:25Z",
	"devaddr":	"3EB4A376",
	"fcnt":	4,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	40,
	"temp":	30.7,
	"lux":	503.33,
	"localtime":	"2023-05-05 11:41:25"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401900190013300C49D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:41:25Z",
	"devaddr":	"3EB4A376",
	"fcnt":	4,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	40,
	"temp":	30.7,
	"lux":	503.33,
	"localtime":	"2023-05-05 11:41:25"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:41:26.091] [debug] [DB.cpp:112] [646] [insertData]: Auto increment id:470
[2023-05-05 11:41:26.091] [info] [rule.cpp:240] [646] [setSourceData]: temp:30.7 humi:40 lux:503.33 co:20 co2:400 h2s:5 nh3:3
[2023-05-05 11:41:26.120] [debug] [mqtt_connector.cpp:168] [644] [defaultDelivered]: Message with token value '4' delivery confirmed
[2023-05-05 11:41:35.569] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:41:35.569] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:41:35.569] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:41:45.569] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:41:45.570] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:41:45.570] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:41:55.570] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:41:55.571] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:41:55.571] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:42:05.571] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:42:05.572] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:42:05.572] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:42:15.572] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:42:15.573] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:42:15.573] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:42:25.573] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:42:25.573] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:42:25.573] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:42:35.575] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:42:35.576] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:42:35.576] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:42:45.576] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:42:45.577] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:42:45.577] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:42:55.577] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:42:55.577] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:42:55.578] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:43:05.578] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:43:05.578] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:43:05.578] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:43:08.834] [debug] [main.cpp:118] [652] [processData]: Message arrived:
[2023-05-05 11:43:08.834] [debug] [main.cpp:119] [652] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"0000030005001401B5018601320098FE","data1":3,"data2":5,"data3":20,"data4":437,"data5":390,"data6":306,"data7":39166,"datatype":0,"datetime":"2023-05-05T03:43:08Z","datr":"SF11BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":5,"freq":474.5,"lsnr":-19.0,"mac":"B827EBFFFE2114B5","port":2,"rssi":-114}'
[2023-05-05 11:43:08.835] [debug] [json_str_convertor.cpp:206] [652] [parseNodeUplink]: 2023-05-05T03:43:08Z
[2023-05-05 11:43:08.835] [debug] [json_str_convertor.cpp:240] [652] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401B5018601320098FE",
	"datatype":	0,
	"datetime":	"2023-05-05T03:43:08Z",
	"devaddr":	"3EB4A376",
	"fcnt":	5,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	437,
	"humi":	39,
	"temp":	30.6,
	"lux":	391.66,
	"localtime":	"2023-05-05 11:43:08"
}
[2023-05-05 11:43:08.835] [debug] [mqtt_connector.cpp:112] [652] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401B5018601320098FE",
	"datatype":	0,
	"datetime":	"2023-05-05T03:43:08Z",
	"devaddr":	"3EB4A376",
	"fcnt":	5,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	437,
	"humi":	39,
	"temp":	30.6,
	"lux":	391.66,
	"localtime":	"2023-05-05 11:43:08"
}'
[2023-05-05 11:43:08.835] [debug] [mqtt_connector.cpp:120] [652] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401B5018601320098FE",
	"datatype":	0,
	"datetime":	"2023-05-05T03:43:08Z",
	"devaddr":	"3EB4A376",
	"fcnt":	5,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	437,
	"humi":	39,
	"temp":	30.6,
	"lux":	391.66,
	"localtime":	"2023-05-05 11:43:08"
}'
[2023-05-05 11:43:08.835] [debug] [DB.cpp:110] [652] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401B5018601320098FE",
	"datatype":	0,
	"datetime":	"2023-05-05T03:43:08Z",
	"devaddr":	"3EB4A376",
	"fcnt":	5,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	437,
	"humi":	39,
	"temp":	30.6,
	"lux":	391.66,
	"localtime":	"2023-05-05 11:43:08"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401B5018601320098FE",
	"datatype":	0,
	"datetime":	"2023-05-05T03:43:08Z",
	"devaddr":	"3EB4A376",
	"fcnt":	5,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	437,
	"humi":	39,
	"temp":	30.6,
	"lux":	391.66,
	"localtime":	"2023-05-05 11:43:08"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:43:08.841] [debug] [mysql_pool.cpp:208] [652] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401B5018601320098FE",
	"datatype":	0,
	"datetime":	"2023-05-05T03:43:08Z",
	"devaddr":	"3EB4A376",
	"fcnt":	5,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	437,
	"humi":	39,
	"temp":	30.6,
	"lux":	391.66,
	"localtime":	"2023-05-05 11:43:08"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401B5018601320098FE",
	"datatype":	0,
	"datetime":	"2023-05-05T03:43:08Z",
	"devaddr":	"3EB4A376",
	"fcnt":	5,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	437,
	"humi":	39,
	"temp":	30.6,
	"lux":	391.66,
	"localtime":	"2023-05-05 11:43:08"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:43:08.841] [debug] [DB.cpp:112] [652] [insertData]: Auto increment id:471
[2023-05-05 11:43:08.841] [info] [rule.cpp:240] [652] [setSourceData]: temp:30.6 humi:39 lux:391.66 co:20 co2:437 h2s:5 nh3:3
[2023-05-05 11:43:08.880] [debug] [mqtt_connector.cpp:168] [644] [defaultDelivered]: Message with token value '5' delivery confirmed
[2023-05-05 11:43:15.578] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:43:15.579] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:43:15.579] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:43:25.579] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:43:25.580] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:43:25.580] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:43:35.580] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:43:35.581] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:43:35.581] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:43:45.581] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:43:45.582] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:43:45.582] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:43:55.583] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:43:55.583] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:43:55.583] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:44:05.583] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:44:05.584] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:44:05.584] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:44:15.584] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:44:15.585] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:44:15.585] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:44:25.585] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:44:25.586] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:44:25.586] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:44:35.586] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:44:35.587] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:44:35.587] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:44:45.587] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:44:45.587] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:44:45.587] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:44:48.384] [debug] [main.cpp:118] [647] [processData]: Message arrived:
[2023-05-05 11:44:48.384] [debug] [main.cpp:119] [647] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"00000300050014025101860133009D39","data1":3,"data2":5,"data3":20,"data4":593,"data5":390,"data6":307,"data7":40249,"datatype":0,"datetime":"2023-05-05T03:44:48Z","datr":"SF12BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":6,"freq":474.7,"lsnr":-18.5,"mac":"B827EBFFFE2114B5","port":2,"rssi":-115}'
[2023-05-05 11:44:48.385] [debug] [json_str_convertor.cpp:206] [647] [parseNodeUplink]: 2023-05-05T03:44:48Z
[2023-05-05 11:44:48.385] [debug] [json_str_convertor.cpp:240] [647] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014025101860133009D39",
	"datatype":	0,
	"datetime":	"2023-05-05T03:44:48Z",
	"devaddr":	"3EB4A376",
	"fcnt":	6,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	593,
	"humi":	39,
	"temp":	30.7,
	"lux":	402.49,
	"localtime":	"2023-05-05 11:44:48"
}
[2023-05-05 11:44:48.385] [debug] [mqtt_connector.cpp:112] [647] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014025101860133009D39",
	"datatype":	0,
	"datetime":	"2023-05-05T03:44:48Z",
	"devaddr":	"3EB4A376",
	"fcnt":	6,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	593,
	"humi":	39,
	"temp":	30.7,
	"lux":	402.49,
	"localtime":	"2023-05-05 11:44:48"
}'
[2023-05-05 11:44:48.385] [debug] [mqtt_connector.cpp:120] [647] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014025101860133009D39",
	"datatype":	0,
	"datetime":	"2023-05-05T03:44:48Z",
	"devaddr":	"3EB4A376",
	"fcnt":	6,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	593,
	"humi":	39,
	"temp":	30.7,
	"lux":	402.49,
	"localtime":	"2023-05-05 11:44:48"
}'
[2023-05-05 11:44:48.385] [debug] [DB.cpp:110] [647] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014025101860133009D39",
	"datatype":	0,
	"datetime":	"2023-05-05T03:44:48Z",
	"devaddr":	"3EB4A376",
	"fcnt":	6,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	593,
	"humi":	39,
	"temp":	30.7,
	"lux":	402.49,
	"localtime":	"2023-05-05 11:44:48"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014025101860133009D39",
	"datatype":	0,
	"datetime":	"2023-05-05T03:44:48Z",
	"devaddr":	"3EB4A376",
	"fcnt":	6,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	593,
	"humi":	39,
	"temp":	30.7,
	"lux":	402.49,
	"localtime":	"2023-05-05 11:44:48"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:44:48.395] [debug] [mysql_pool.cpp:208] [647] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014025101860133009D39",
	"datatype":	0,
	"datetime":	"2023-05-05T03:44:48Z",
	"devaddr":	"3EB4A376",
	"fcnt":	6,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	593,
	"humi":	39,
	"temp":	30.7,
	"lux":	402.49,
	"localtime":	"2023-05-05 11:44:48"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014025101860133009D39",
	"datatype":	0,
	"datetime":	"2023-05-05T03:44:48Z",
	"devaddr":	"3EB4A376",
	"fcnt":	6,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	593,
	"humi":	39,
	"temp":	30.7,
	"lux":	402.49,
	"localtime":	"2023-05-05 11:44:48"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:44:48.395] [debug] [DB.cpp:112] [647] [insertData]: Auto increment id:472
[2023-05-05 11:44:48.395] [info] [rule.cpp:240] [647] [setSourceData]: temp:30.7 humi:39 lux:402.49 co:20 co2:593 h2s:5 nh3:3
[2023-05-05 11:44:48.430] [debug] [mqtt_connector.cpp:168] [644] [defaultDelivered]: Message with token value '6' delivery confirmed
[2023-05-05 11:44:55.587] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:44:55.588] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:44:55.588] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:45:05.589] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:45:05.589] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:45:05.589] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:45:15.361] [debug] [main.cpp:118] [645] [processData]: Message arrived:
[2023-05-05 11:45:15.361] [debug] [main.cpp:119] [645] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"00000300050014022B01860134009F2D","data1":3,"data2":5,"data3":20,"data4":555,"data5":390,"data6":308,"data7":40749,"datatype":0,"datetime":"2023-05-05T03:45:15Z","datr":"SF10BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":7,"freq":474.3,"lsnr":-17.5,"mac":"B827EBFFFE2114B5","port":2,"rssi":-114}'
[2023-05-05 11:45:15.361] [debug] [json_str_convertor.cpp:206] [645] [parseNodeUplink]: 2023-05-05T03:45:15Z
[2023-05-05 11:45:15.362] [debug] [json_str_convertor.cpp:240] [645] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014022B01860134009F2D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:45:15Z",
	"devaddr":	"3EB4A376",
	"fcnt":	7,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	555,
	"humi":	39,
	"temp":	30.8,
	"lux":	407.49,
	"localtime":	"2023-05-05 11:45:15"
}
[2023-05-05 11:45:15.362] [debug] [mqtt_connector.cpp:112] [645] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014022B01860134009F2D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:45:15Z",
	"devaddr":	"3EB4A376",
	"fcnt":	7,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	555,
	"humi":	39,
	"temp":	30.8,
	"lux":	407.49,
	"localtime":	"2023-05-05 11:45:15"
}'
[2023-05-05 11:45:15.362] [debug] [mqtt_connector.cpp:120] [645] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014022B01860134009F2D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:45:15Z",
	"devaddr":	"3EB4A376",
	"fcnt":	7,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	555,
	"humi":	39,
	"temp":	30.8,
	"lux":	407.49,
	"localtime":	"2023-05-05 11:45:15"
}'
[2023-05-05 11:45:15.362] [debug] [DB.cpp:110] [645] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014022B01860134009F2D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:45:15Z",
	"devaddr":	"3EB4A376",
	"fcnt":	7,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	555,
	"humi":	39,
	"temp":	30.8,
	"lux":	407.49,
	"localtime":	"2023-05-05 11:45:15"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014022B01860134009F2D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:45:15Z",
	"devaddr":	"3EB4A376",
	"fcnt":	7,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	555,
	"humi":	39,
	"temp":	30.8,
	"lux":	407.49,
	"localtime":	"2023-05-05 11:45:15"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:45:15.369] [debug] [mysql_pool.cpp:208] [645] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014022B01860134009F2D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:45:15Z",
	"devaddr":	"3EB4A376",
	"fcnt":	7,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	555,
	"humi":	39,
	"temp":	30.8,
	"lux":	407.49,
	"localtime":	"2023-05-05 11:45:15"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014022B01860134009F2D",
	"datatype":	0,
	"datetime":	"2023-05-05T03:45:15Z",
	"devaddr":	"3EB4A376",
	"fcnt":	7,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	555,
	"humi":	39,
	"temp":	30.8,
	"lux":	407.49,
	"localtime":	"2023-05-05 11:45:15"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:45:15.369] [debug] [DB.cpp:112] [645] [insertData]: Auto increment id:473
[2023-05-05 11:45:15.369] [info] [rule.cpp:240] [645] [setSourceData]: temp:30.8 humi:39 lux:407.49 co:20 co2:555 h2s:5 nh3:3
[2023-05-05 11:45:15.410] [debug] [mqtt_connector.cpp:168] [644] [defaultDelivered]: Message with token value '7' delivery confirmed
[2023-05-05 11:45:15.589] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:45:15.590] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:45:15.590] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:45:25.590] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:45:25.591] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:45:25.591] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:45:35.591] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:45:35.592] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:45:35.592] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:45:45.592] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:45:45.593] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:45:45.593] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:45:55.593] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:45:55.600] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:45:55.600] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:46:01.824] [debug] [main.cpp:118] [648] [processData]: Message arrived:
[2023-05-05 11:46:01.824] [debug] [main.cpp:119] [648] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"0000030005001401E601860135009088","data1":3,"data2":5,"data3":20,"data4":486,"data5":390,"data6":309,"data7":37000,"datatype":0,"datetime":"2023-05-05T03:46:01Z","datr":"SF12BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":8,"freq":474.7,"lsnr":-9.2,"mac":"B827EBFFFE2114B5","port":2,"rssi":-110}'
[2023-05-05 11:46:01.824] [debug] [json_str_convertor.cpp:206] [648] [parseNodeUplink]: 2023-05-05T03:46:01Z
[2023-05-05 11:46:01.824] [debug] [json_str_convertor.cpp:240] [648] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401E601860135009088",
	"datatype":	0,
	"datetime":	"2023-05-05T03:46:01Z",
	"devaddr":	"3EB4A376",
	"fcnt":	8,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	486,
	"humi":	39,
	"temp":	30.9,
	"lux":	370,
	"localtime":	"2023-05-05 11:46:01"
}
[2023-05-05 11:46:01.824] [debug] [mqtt_connector.cpp:112] [648] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401E601860135009088",
	"datatype":	0,
	"datetime":	"2023-05-05T03:46:01Z",
	"devaddr":	"3EB4A376",
	"fcnt":	8,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	486,
	"humi":	39,
	"temp":	30.9,
	"lux":	370,
	"localtime":	"2023-05-05 11:46:01"
}'
[2023-05-05 11:46:01.824] [debug] [mqtt_connector.cpp:120] [648] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401E601860135009088",
	"datatype":	0,
	"datetime":	"2023-05-05T03:46:01Z",
	"devaddr":	"3EB4A376",
	"fcnt":	8,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	486,
	"humi":	39,
	"temp":	30.9,
	"lux":	370,
	"localtime":	"2023-05-05 11:46:01"
}'
[2023-05-05 11:46:01.825] [debug] [DB.cpp:110] [648] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401E601860135009088",
	"datatype":	0,
	"datetime":	"2023-05-05T03:46:01Z",
	"devaddr":	"3EB4A376",
	"fcnt":	8,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	486,
	"humi":	39,
	"temp":	30.9,
	"lux":	370,
	"localtime":	"2023-05-05 11:46:01"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401E601860135009088",
	"datatype":	0,
	"datetime":	"2023-05-05T03:46:01Z",
	"devaddr":	"3EB4A376",
	"fcnt":	8,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	486,
	"humi":	39,
	"temp":	30.9,
	"lux":	370,
	"localtime":	"2023-05-05 11:46:01"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:46:01.832] [debug] [mysql_pool.cpp:208] [648] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401E601860135009088",
	"datatype":	0,
	"datetime":	"2023-05-05T03:46:01Z",
	"devaddr":	"3EB4A376",
	"fcnt":	8,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	486,
	"humi":	39,
	"temp":	30.9,
	"lux":	370,
	"localtime":	"2023-05-05 11:46:01"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401E601860135009088",
	"datatype":	0,
	"datetime":	"2023-05-05T03:46:01Z",
	"devaddr":	"3EB4A376",
	"fcnt":	8,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	486,
	"humi":	39,
	"temp":	30.9,
	"lux":	370,
	"localtime":	"2023-05-05 11:46:01"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:46:01.832] [debug] [DB.cpp:112] [648] [insertData]: Auto increment id:474
[2023-05-05 11:46:01.832] [info] [rule.cpp:240] [648] [setSourceData]: temp:30.9 humi:39 lux:370 co:20 co2:486 h2s:5 nh3:3
[2023-05-05 11:46:01.870] [debug] [mqtt_connector.cpp:168] [644] [defaultDelivered]: Message with token value '8' delivery confirmed
[2023-05-05 11:46:05.600] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:46:05.601] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:46:05.601] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:46:10.020] [debug] [main.cpp:118] [651] [processData]: Message arrived:
[2023-05-05 11:46:10.020] [debug] [main.cpp:119] [651] [processData]: topic: '$SYS/broker/connection/raspberrypi.raspberry/state'	payload: '0'
[2023-05-05 11:46:15.601] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:46:15.602] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:46:15.602] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:46:25.602] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:46:25.602] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:46:25.602] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:46:26.366] [debug] [main.cpp:118] [650] [processData]: Message arrived:
[2023-05-05 11:46:26.366] [debug] [main.cpp:119] [650] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"0000030005001401FA017C0135008235","data1":3,"data2":5,"data3":20,"data4":506,"data5":380,"data6":309,"data7":33333,"datatype":0,"datetime":"2023-05-05T03:46:26Z","datr":"SF10BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":9,"freq":474.5,"lsnr":-18.2,"mac":"B827EBFFFE2114B5","port":2,"rssi":-115}'
[2023-05-05 11:46:26.366] [debug] [json_str_convertor.cpp:206] [650] [parseNodeUplink]: 2023-05-05T03:46:26Z
[2023-05-05 11:46:26.366] [debug] [json_str_convertor.cpp:240] [650] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401FA017C0135008235",
	"datatype":	0,
	"datetime":	"2023-05-05T03:46:26Z",
	"devaddr":	"3EB4A376",
	"fcnt":	9,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	506,
	"humi":	38,
	"temp":	30.9,
	"lux":	333.33,
	"localtime":	"2023-05-05 11:46:26"
}
[2023-05-05 11:46:26.366] [debug] [mqtt_connector.cpp:112] [650] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401FA017C0135008235",
	"datatype":	0,
	"datetime":	"2023-05-05T03:46:26Z",
	"devaddr":	"3EB4A376",
	"fcnt":	9,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	506,
	"humi":	38,
	"temp":	30.9,
	"lux":	333.33,
	"localtime":	"2023-05-05 11:46:26"
}'
[2023-05-05 11:46:26.366] [debug] [mqtt_connector.cpp:120] [650] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401FA017C0135008235",
	"datatype":	0,
	"datetime":	"2023-05-05T03:46:26Z",
	"devaddr":	"3EB4A376",
	"fcnt":	9,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	506,
	"humi":	38,
	"temp":	30.9,
	"lux":	333.33,
	"localtime":	"2023-05-05 11:46:26"
}'
[2023-05-05 11:46:26.366] [debug] [DB.cpp:110] [650] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401FA017C0135008235",
	"datatype":	0,
	"datetime":	"2023-05-05T03:46:26Z",
	"devaddr":	"3EB4A376",
	"fcnt":	9,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	506,
	"humi":	38,
	"temp":	30.9,
	"lux":	333.33,
	"localtime":	"2023-05-05 11:46:26"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401FA017C0135008235",
	"datatype":	0,
	"datetime":	"2023-05-05T03:46:26Z",
	"devaddr":	"3EB4A376",
	"fcnt":	9,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	506,
	"humi":	38,
	"temp":	30.9,
	"lux":	333.33,
	"localtime":	"2023-05-05 11:46:26"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:46:26.367] [debug] [mqtt_connector.cpp:168] [644] [defaultDelivered]: Message with token value '9' delivery confirmed
[2023-05-05 11:46:26.374] [debug] [mysql_pool.cpp:208] [650] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401FA017C0135008235",
	"datatype":	0,
	"datetime":	"2023-05-05T03:46:26Z",
	"devaddr":	"3EB4A376",
	"fcnt":	9,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	506,
	"humi":	38,
	"temp":	30.9,
	"lux":	333.33,
	"localtime":	"2023-05-05 11:46:26"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401FA017C0135008235",
	"datatype":	0,
	"datetime":	"2023-05-05T03:46:26Z",
	"devaddr":	"3EB4A376",
	"fcnt":	9,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	506,
	"humi":	38,
	"temp":	30.9,
	"lux":	333.33,
	"localtime":	"2023-05-05 11:46:26"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:46:26.374] [debug] [DB.cpp:112] [650] [insertData]: Auto increment id:475
[2023-05-05 11:46:26.374] [info] [rule.cpp:240] [650] [setSourceData]: temp:30.9 humi:38 lux:333.33 co:20 co2:506 h2s:5 nh3:3
[2023-05-05 11:46:35.602] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:46:35.603] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:46:35.603] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:46:45.603] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:46:45.604] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:46:45.604] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:46:55.605] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:46:55.620] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:46:55.620] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:47:05.620] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:47:05.621] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:47:05.621] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:47:15.621] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:47:15.622] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:47:15.622] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:47:19.013] [debug] [main.cpp:118] [646] [processData]: Message arrived:
[2023-05-05 11:47:19.013] [debug] [main.cpp:119] [646] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"0000030005001401FC017C0135006978","data1":3,"data2":5,"data3":20,"data4":508,"data5":380,"data6":309,"data7":27000,"datatype":0,"datetime":"2023-05-05T03:47:18Z","datr":"SF12BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":10,"freq":474.7,"lsnr":-2.5,"mac":"B827EBFFFE2114B5","port":2,"rssi":-112}'
[2023-05-05 11:47:19.013] [debug] [json_str_convertor.cpp:206] [646] [parseNodeUplink]: 2023-05-05T03:47:18Z
[2023-05-05 11:47:19.013] [debug] [json_str_convertor.cpp:240] [646] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401FC017C0135006978",
	"datatype":	0,
	"datetime":	"2023-05-05T03:47:18Z",
	"devaddr":	"3EB4A376",
	"fcnt":	10,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	508,
	"humi":	38,
	"temp":	30.9,
	"lux":	270,
	"localtime":	"2023-05-05 11:47:18"
}
[2023-05-05 11:47:19.013] [debug] [mqtt_connector.cpp:112] [646] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401FC017C0135006978",
	"datatype":	0,
	"datetime":	"2023-05-05T03:47:18Z",
	"devaddr":	"3EB4A376",
	"fcnt":	10,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	508,
	"humi":	38,
	"temp":	30.9,
	"lux":	270,
	"localtime":	"2023-05-05 11:47:18"
}'
[2023-05-05 11:47:19.013] [debug] [mqtt_connector.cpp:120] [646] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401FC017C0135006978",
	"datatype":	0,
	"datetime":	"2023-05-05T03:47:18Z",
	"devaddr":	"3EB4A376",
	"fcnt":	10,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	508,
	"humi":	38,
	"temp":	30.9,
	"lux":	270,
	"localtime":	"2023-05-05 11:47:18"
}'
[2023-05-05 11:47:19.013] [debug] [DB.cpp:110] [646] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401FC017C0135006978",
	"datatype":	0,
	"datetime":	"2023-05-05T03:47:18Z",
	"devaddr":	"3EB4A376",
	"fcnt":	10,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	508,
	"humi":	38,
	"temp":	30.9,
	"lux":	270,
	"localtime":	"2023-05-05 11:47:18"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401FC017C0135006978",
	"datatype":	0,
	"datetime":	"2023-05-05T03:47:18Z",
	"devaddr":	"3EB4A376",
	"fcnt":	10,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	508,
	"humi":	38,
	"temp":	30.9,
	"lux":	270,
	"localtime":	"2023-05-05 11:47:18"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:47:19.060] [debug] [mqtt_connector.cpp:168] [644] [defaultDelivered]: Message with token value '10' delivery confirmed
[2023-05-05 11:47:19.274] [debug] [mysql_pool.cpp:208] [646] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401FC017C0135006978",
	"datatype":	0,
	"datetime":	"2023-05-05T03:47:18Z",
	"devaddr":	"3EB4A376",
	"fcnt":	10,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	508,
	"humi":	38,
	"temp":	30.9,
	"lux":	270,
	"localtime":	"2023-05-05 11:47:18"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401FC017C0135006978",
	"datatype":	0,
	"datetime":	"2023-05-05T03:47:18Z",
	"devaddr":	"3EB4A376",
	"fcnt":	10,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	508,
	"humi":	38,
	"temp":	30.9,
	"lux":	270,
	"localtime":	"2023-05-05 11:47:18"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:47:19.274] [debug] [DB.cpp:112] [646] [insertData]: Auto increment id:476
[2023-05-05 11:47:19.274] [info] [rule.cpp:240] [646] [setSourceData]: temp:30.9 humi:38 lux:270 co:20 co2:508 h2s:5 nh3:3
[2023-05-05 11:47:25.622] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:47:25.622] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:47:25.622] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:47:35.622] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:47:35.623] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:47:35.623] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:47:43.089] [debug] [main.cpp:118] [652] [processData]: Message arrived:
[2023-05-05 11:47:43.089] [debug] [main.cpp:119] [652] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"0000030005001401CD017C0135006590","data1":3,"data2":5,"data3":20,"data4":461,"data5":380,"data6":309,"data7":26000,"datatype":0,"datetime":"2023-05-05T03:47:42Z","datr":"SF10BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":11,"freq":474.3,"lsnr":-11.8,"mac":"B827EBFFFE2114B5","port":2,"rssi":-107}'
[2023-05-05 11:47:43.089] [debug] [json_str_convertor.cpp:206] [652] [parseNodeUplink]: 2023-05-05T03:47:42Z
[2023-05-05 11:47:43.089] [debug] [json_str_convertor.cpp:240] [652] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401CD017C0135006590",
	"datatype":	0,
	"datetime":	"2023-05-05T03:47:42Z",
	"devaddr":	"3EB4A376",
	"fcnt":	11,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	461,
	"humi":	38,
	"temp":	30.9,
	"lux":	260,
	"localtime":	"2023-05-05 11:47:42"
}
[2023-05-05 11:47:43.089] [debug] [mqtt_connector.cpp:112] [652] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401CD017C0135006590",
	"datatype":	0,
	"datetime":	"2023-05-05T03:47:42Z",
	"devaddr":	"3EB4A376",
	"fcnt":	11,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	461,
	"humi":	38,
	"temp":	30.9,
	"lux":	260,
	"localtime":	"2023-05-05 11:47:42"
}'
[2023-05-05 11:47:43.089] [debug] [mqtt_connector.cpp:120] [652] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401CD017C0135006590",
	"datatype":	0,
	"datetime":	"2023-05-05T03:47:42Z",
	"devaddr":	"3EB4A376",
	"fcnt":	11,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	461,
	"humi":	38,
	"temp":	30.9,
	"lux":	260,
	"localtime":	"2023-05-05 11:47:42"
}'
[2023-05-05 11:47:43.089] [debug] [DB.cpp:110] [652] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401CD017C0135006590",
	"datatype":	0,
	"datetime":	"2023-05-05T03:47:42Z",
	"devaddr":	"3EB4A376",
	"fcnt":	11,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	461,
	"humi":	38,
	"temp":	30.9,
	"lux":	260,
	"localtime":	"2023-05-05 11:47:42"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401CD017C0135006590",
	"datatype":	0,
	"datetime":	"2023-05-05T03:47:42Z",
	"devaddr":	"3EB4A376",
	"fcnt":	11,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	461,
	"humi":	38,
	"temp":	30.9,
	"lux":	260,
	"localtime":	"2023-05-05 11:47:42"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:47:43.096] [debug] [mysql_pool.cpp:208] [652] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401CD017C0135006590",
	"datatype":	0,
	"datetime":	"2023-05-05T03:47:42Z",
	"devaddr":	"3EB4A376",
	"fcnt":	11,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	461,
	"humi":	38,
	"temp":	30.9,
	"lux":	260,
	"localtime":	"2023-05-05 11:47:42"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401CD017C0135006590",
	"datatype":	0,
	"datetime":	"2023-05-05T03:47:42Z",
	"devaddr":	"3EB4A376",
	"fcnt":	11,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	461,
	"humi":	38,
	"temp":	30.9,
	"lux":	260,
	"localtime":	"2023-05-05 11:47:42"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:47:43.096] [debug] [DB.cpp:112] [652] [insertData]: Auto increment id:477
[2023-05-05 11:47:43.096] [info] [rule.cpp:240] [652] [setSourceData]: temp:30.9 humi:38 lux:260 co:20 co2:461 h2s:5 nh3:3
[2023-05-05 11:47:43.130] [debug] [mqtt_connector.cpp:168] [644] [defaultDelivered]: Message with token value '11' delivery confirmed
[2023-05-05 11:47:45.623] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:47:45.624] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:47:45.624] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:47:55.624] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:47:55.625] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:47:55.625] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:48:05.625] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:48:05.626] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:48:05.626] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:48:15.626] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:48:15.627] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:48:15.627] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:48:25.627] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:48:25.628] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:48:25.628] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:48:35.628] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:48:35.628] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:48:35.628] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:48:38.717] [debug] [main.cpp:118] [647] [processData]: Message arrived:
[2023-05-05 11:48:38.717] [debug] [main.cpp:119] [647] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"0000030005001401A9018601370069CB","data1":3,"data2":5,"data3":20,"data4":425,"data5":390,"data6":311,"data7":27083,"datatype":0,"datetime":"2023-05-05T03:48:38Z","datr":"SF12BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":12,"freq":474.5,"lsnr":-19.2,"mac":"B827EBFFFE2114B5","port":2,"rssi":-114}'
[2023-05-05 11:48:38.717] [debug] [json_str_convertor.cpp:206] [647] [parseNodeUplink]: 2023-05-05T03:48:38Z
[2023-05-05 11:48:38.717] [debug] [json_str_convertor.cpp:240] [647] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401A9018601370069CB",
	"datatype":	0,
	"datetime":	"2023-05-05T03:48:38Z",
	"devaddr":	"3EB4A376",
	"fcnt":	12,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	425,
	"humi":	39,
	"temp":	31.1,
	"lux":	270.83,
	"localtime":	"2023-05-05 11:48:38"
}
[2023-05-05 11:48:38.717] [debug] [mqtt_connector.cpp:112] [647] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401A9018601370069CB",
	"datatype":	0,
	"datetime":	"2023-05-05T03:48:38Z",
	"devaddr":	"3EB4A376",
	"fcnt":	12,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	425,
	"humi":	39,
	"temp":	31.1,
	"lux":	270.83,
	"localtime":	"2023-05-05 11:48:38"
}'
[2023-05-05 11:48:38.717] [debug] [mqtt_connector.cpp:120] [647] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401A9018601370069CB",
	"datatype":	0,
	"datetime":	"2023-05-05T03:48:38Z",
	"devaddr":	"3EB4A376",
	"fcnt":	12,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	425,
	"humi":	39,
	"temp":	31.1,
	"lux":	270.83,
	"localtime":	"2023-05-05 11:48:38"
}'
[2023-05-05 11:48:38.717] [debug] [DB.cpp:110] [647] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401A9018601370069CB",
	"datatype":	0,
	"datetime":	"2023-05-05T03:48:38Z",
	"devaddr":	"3EB4A376",
	"fcnt":	12,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	425,
	"humi":	39,
	"temp":	31.1,
	"lux":	270.83,
	"localtime":	"2023-05-05 11:48:38"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401A9018601370069CB",
	"datatype":	0,
	"datetime":	"2023-05-05T03:48:38Z",
	"devaddr":	"3EB4A376",
	"fcnt":	12,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	425,
	"humi":	39,
	"temp":	31.1,
	"lux":	270.83,
	"localtime":	"2023-05-05 11:48:38"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:48:38.724] [debug] [mysql_pool.cpp:208] [647] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401A9018601370069CB",
	"datatype":	0,
	"datetime":	"2023-05-05T03:48:38Z",
	"devaddr":	"3EB4A376",
	"fcnt":	12,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	425,
	"humi":	39,
	"temp":	31.1,
	"lux":	270.83,
	"localtime":	"2023-05-05 11:48:38"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401A9018601370069CB",
	"datatype":	0,
	"datetime":	"2023-05-05T03:48:38Z",
	"devaddr":	"3EB4A376",
	"fcnt":	12,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	425,
	"humi":	39,
	"temp":	31.1,
	"lux":	270.83,
	"localtime":	"2023-05-05 11:48:38"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:48:38.724] [debug] [DB.cpp:112] [647] [insertData]: Auto increment id:478
[2023-05-05 11:48:38.724] [info] [rule.cpp:240] [647] [setSourceData]: temp:31.1 humi:39 lux:270.83 co:20 co2:425 h2s:5 nh3:3
[2023-05-05 11:48:38.760] [debug] [mqtt_connector.cpp:168] [644] [defaultDelivered]: Message with token value '12' delivery confirmed
[2023-05-05 11:48:45.629] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:48:45.629] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:48:45.629] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:48:55.629] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:48:55.630] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:48:55.630] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:49:05.630] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:49:05.631] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:49:05.631] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:49:15.631] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:49:15.632] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:49:15.632] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:49:16.823] [debug] [main.cpp:118] [645] [processData]: Message arrived:
[2023-05-05 11:49:16.823] [debug] [main.cpp:119] [645] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"0000030005001401D601860136006636","data1":3,"data2":5,"data3":20,"data4":470,"data5":390,"data6":310,"data7":26166,"datatype":0,"datetime":"2023-05-05T03:49:16Z","datr":"SF10BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":13,"freq":474.5,"lsnr":-17.8,"mac":"B827EBFFFE2114B5","port":2,"rssi":-115}'
[2023-05-05 11:49:16.823] [debug] [json_str_convertor.cpp:206] [645] [parseNodeUplink]: 2023-05-05T03:49:16Z
[2023-05-05 11:49:16.824] [debug] [json_str_convertor.cpp:240] [645] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401D601860136006636",
	"datatype":	0,
	"datetime":	"2023-05-05T03:49:16Z",
	"devaddr":	"3EB4A376",
	"fcnt":	13,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	470,
	"humi":	39,
	"temp":	31,
	"lux":	261.66,
	"localtime":	"2023-05-05 11:49:16"
}
[2023-05-05 11:49:16.824] [debug] [mqtt_connector.cpp:112] [645] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401D601860136006636",
	"datatype":	0,
	"datetime":	"2023-05-05T03:49:16Z",
	"devaddr":	"3EB4A376",
	"fcnt":	13,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	470,
	"humi":	39,
	"temp":	31,
	"lux":	261.66,
	"localtime":	"2023-05-05 11:49:16"
}'
[2023-05-05 11:49:16.824] [debug] [mqtt_connector.cpp:120] [645] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401D601860136006636",
	"datatype":	0,
	"datetime":	"2023-05-05T03:49:16Z",
	"devaddr":	"3EB4A376",
	"fcnt":	13,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	470,
	"humi":	39,
	"temp":	31,
	"lux":	261.66,
	"localtime":	"2023-05-05 11:49:16"
}'
[2023-05-05 11:49:16.824] [debug] [DB.cpp:110] [645] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401D601860136006636",
	"datatype":	0,
	"datetime":	"2023-05-05T03:49:16Z",
	"devaddr":	"3EB4A376",
	"fcnt":	13,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	470,
	"humi":	39,
	"temp":	31,
	"lux":	261.66,
	"localtime":	"2023-05-05 11:49:16"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401D601860136006636",
	"datatype":	0,
	"datetime":	"2023-05-05T03:49:16Z",
	"devaddr":	"3EB4A376",
	"fcnt":	13,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	470,
	"humi":	39,
	"temp":	31,
	"lux":	261.66,
	"localtime":	"2023-05-05 11:49:16"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:49:16.831] [debug] [mysql_pool.cpp:208] [645] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401D601860136006636",
	"datatype":	0,
	"datetime":	"2023-05-05T03:49:16Z",
	"devaddr":	"3EB4A376",
	"fcnt":	13,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	470,
	"humi":	39,
	"temp":	31,
	"lux":	261.66,
	"localtime":	"2023-05-05 11:49:16"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401D601860136006636",
	"datatype":	0,
	"datetime":	"2023-05-05T03:49:16Z",
	"devaddr":	"3EB4A376",
	"fcnt":	13,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	470,
	"humi":	39,
	"temp":	31,
	"lux":	261.66,
	"localtime":	"2023-05-05 11:49:16"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:49:16.831] [debug] [DB.cpp:112] [645] [insertData]: Auto increment id:479
[2023-05-05 11:49:16.831] [info] [rule.cpp:240] [645] [setSourceData]: temp:31 humi:39 lux:261.66 co:20 co2:470 h2s:5 nh3:3
[2023-05-05 11:49:16.870] [debug] [mqtt_connector.cpp:168] [644] [defaultDelivered]: Message with token value '13' delivery confirmed
[2023-05-05 11:49:25.632] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:49:25.633] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:49:25.633] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:49:35.633] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:49:35.633] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:49:35.633] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:49:45.634] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:49:45.634] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:49:45.634] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:49:55.634] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:49:55.635] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:49:55.635] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:49:58.086] [debug] [main.cpp:118] [648] [processData]: Message arrived:
[2023-05-05 11:49:58.086] [debug] [main.cpp:119] [648] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"0000030005001401FA01860136006590","data1":3,"data2":5,"data3":20,"data4":506,"data5":390,"data6":310,"data7":26000,"datatype":0,"datetime":"2023-05-05T03:49:57Z","datr":"SF12BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":14,"freq":474.9,"lsnr":-18.8,"mac":"B827EBFFFE2114B5","port":2,"rssi":-115}'
[2023-05-05 11:49:58.086] [debug] [json_str_convertor.cpp:206] [648] [parseNodeUplink]: 2023-05-05T03:49:57Z
[2023-05-05 11:49:58.086] [debug] [json_str_convertor.cpp:240] [648] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401FA01860136006590",
	"datatype":	0,
	"datetime":	"2023-05-05T03:49:57Z",
	"devaddr":	"3EB4A376",
	"fcnt":	14,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	506,
	"humi":	39,
	"temp":	31,
	"lux":	260,
	"localtime":	"2023-05-05 11:49:57"
}
[2023-05-05 11:49:58.086] [debug] [mqtt_connector.cpp:112] [648] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401FA01860136006590",
	"datatype":	0,
	"datetime":	"2023-05-05T03:49:57Z",
	"devaddr":	"3EB4A376",
	"fcnt":	14,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	506,
	"humi":	39,
	"temp":	31,
	"lux":	260,
	"localtime":	"2023-05-05 11:49:57"
}'
[2023-05-05 11:49:58.086] [debug] [mqtt_connector.cpp:120] [648] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401FA01860136006590",
	"datatype":	0,
	"datetime":	"2023-05-05T03:49:57Z",
	"devaddr":	"3EB4A376",
	"fcnt":	14,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	506,
	"humi":	39,
	"temp":	31,
	"lux":	260,
	"localtime":	"2023-05-05 11:49:57"
}'
[2023-05-05 11:49:58.086] [debug] [DB.cpp:110] [648] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401FA01860136006590",
	"datatype":	0,
	"datetime":	"2023-05-05T03:49:57Z",
	"devaddr":	"3EB4A376",
	"fcnt":	14,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	506,
	"humi":	39,
	"temp":	31,
	"lux":	260,
	"localtime":	"2023-05-05 11:49:57"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401FA01860136006590",
	"datatype":	0,
	"datetime":	"2023-05-05T03:49:57Z",
	"devaddr":	"3EB4A376",
	"fcnt":	14,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	506,
	"humi":	39,
	"temp":	31,
	"lux":	260,
	"localtime":	"2023-05-05 11:49:57"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:49:58.092] [debug] [mysql_pool.cpp:208] [648] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401FA01860136006590",
	"datatype":	0,
	"datetime":	"2023-05-05T03:49:57Z",
	"devaddr":	"3EB4A376",
	"fcnt":	14,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	506,
	"humi":	39,
	"temp":	31,
	"lux":	260,
	"localtime":	"2023-05-05 11:49:57"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401FA01860136006590",
	"datatype":	0,
	"datetime":	"2023-05-05T03:49:57Z",
	"devaddr":	"3EB4A376",
	"fcnt":	14,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	506,
	"humi":	39,
	"temp":	31,
	"lux":	260,
	"localtime":	"2023-05-05 11:49:57"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:49:58.093] [debug] [DB.cpp:112] [648] [insertData]: Auto increment id:480
[2023-05-05 11:49:58.093] [info] [rule.cpp:240] [648] [setSourceData]: temp:31 humi:39 lux:260 co:20 co2:506 h2s:5 nh3:3
[2023-05-05 11:49:58.130] [debug] [mqtt_connector.cpp:168] [644] [defaultDelivered]: Message with token value '14' delivery confirmed
[2023-05-05 11:50:05.635] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:50:05.636] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:50:05.636] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:50:15.636] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:50:15.637] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:50:15.637] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:50:25.637] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:50:25.637] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:50:25.637] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:50:35.638] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:50:35.638] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:50:35.638] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:50:45.638] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:50:45.639] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:50:45.639] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:50:55.639] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:50:55.640] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:50:55.640] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:51:05.640] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:51:05.641] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:51:05.641] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:51:15.641] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:51:15.642] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:51:15.642] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:51:25.642] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:51:25.643] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:51:25.643] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:51:35.643] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:51:35.643] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:51:35.643] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:51:38.687] [debug] [main.cpp:118] [651] [processData]: Message arrived:
[2023-05-05 11:51:38.687] [debug] [main.cpp:119] [651] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"00000300050014019001860133005F60","data1":3,"data2":5,"data3":20,"data4":400,"data5":390,"data6":307,"data7":24416,"datatype":0,"datetime":"2023-05-05T03:51:38Z","datr":"SF11BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":15,"freq":474.3,"lsnr":-12.8,"mac":"B827EBFFFE2114B5","port":2,"rssi":-107}'
[2023-05-05 11:51:38.687] [debug] [json_str_convertor.cpp:206] [651] [parseNodeUplink]: 2023-05-05T03:51:38Z
[2023-05-05 11:51:38.687] [debug] [json_str_convertor.cpp:240] [651] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014019001860133005F60",
	"datatype":	0,
	"datetime":	"2023-05-05T03:51:38Z",
	"devaddr":	"3EB4A376",
	"fcnt":	15,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	39,
	"temp":	30.7,
	"lux":	244.16,
	"localtime":	"2023-05-05 11:51:38"
}
[2023-05-05 11:51:38.687] [debug] [mqtt_connector.cpp:112] [651] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014019001860133005F60",
	"datatype":	0,
	"datetime":	"2023-05-05T03:51:38Z",
	"devaddr":	"3EB4A376",
	"fcnt":	15,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	39,
	"temp":	30.7,
	"lux":	244.16,
	"localtime":	"2023-05-05 11:51:38"
}'
[2023-05-05 11:51:38.687] [debug] [mqtt_connector.cpp:120] [651] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014019001860133005F60",
	"datatype":	0,
	"datetime":	"2023-05-05T03:51:38Z",
	"devaddr":	"3EB4A376",
	"fcnt":	15,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	39,
	"temp":	30.7,
	"lux":	244.16,
	"localtime":	"2023-05-05 11:51:38"
}'
[2023-05-05 11:51:38.687] [debug] [DB.cpp:110] [651] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014019001860133005F60",
	"datatype":	0,
	"datetime":	"2023-05-05T03:51:38Z",
	"devaddr":	"3EB4A376",
	"fcnt":	15,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	39,
	"temp":	30.7,
	"lux":	244.16,
	"localtime":	"2023-05-05 11:51:38"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014019001860133005F60",
	"datatype":	0,
	"datetime":	"2023-05-05T03:51:38Z",
	"devaddr":	"3EB4A376",
	"fcnt":	15,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	39,
	"temp":	30.7,
	"lux":	244.16,
	"localtime":	"2023-05-05 11:51:38"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:51:38.693] [debug] [mysql_pool.cpp:208] [651] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014019001860133005F60",
	"datatype":	0,
	"datetime":	"2023-05-05T03:51:38Z",
	"devaddr":	"3EB4A376",
	"fcnt":	15,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	39,
	"temp":	30.7,
	"lux":	244.16,
	"localtime":	"2023-05-05 11:51:38"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014019001860133005F60",
	"datatype":	0,
	"datetime":	"2023-05-05T03:51:38Z",
	"devaddr":	"3EB4A376",
	"fcnt":	15,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	400,
	"humi":	39,
	"temp":	30.7,
	"lux":	244.16,
	"localtime":	"2023-05-05 11:51:38"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:51:38.693] [debug] [DB.cpp:112] [651] [insertData]: Auto increment id:481
[2023-05-05 11:51:38.694] [info] [rule.cpp:240] [651] [setSourceData]: temp:30.7 humi:39 lux:244.16 co:20 co2:400 h2s:5 nh3:3
[2023-05-05 11:51:38.730] [debug] [mqtt_connector.cpp:168] [644] [defaultDelivered]: Message with token value '15' delivery confirmed
[2023-05-05 11:51:45.643] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:51:45.644] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:51:45.644] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:51:55.644] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:51:55.645] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:51:55.645] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:52:05.645] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:52:05.646] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:52:05.646] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:52:15.224] [debug] [main.cpp:118] [650] [processData]: Message arrived:
[2023-05-05 11:52:15.224] [debug] [main.cpp:119] [650] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"00000300050014019A01860133005C1F","data1":3,"data2":5,"data3":20,"data4":410,"data5":390,"data6":307,"data7":23583,"datatype":0,"datetime":"2023-05-05T03:52:15Z","datr":"SF12BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":16,"freq":475.1,"lsnr":-19.8,"mac":"B827EBFFFE2114B5","port":2,"rssi":-102}'
[2023-05-05 11:52:15.224] [debug] [json_str_convertor.cpp:206] [650] [parseNodeUplink]: 2023-05-05T03:52:15Z
[2023-05-05 11:52:15.224] [debug] [json_str_convertor.cpp:240] [650] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014019A01860133005C1F",
	"datatype":	0,
	"datetime":	"2023-05-05T03:52:15Z",
	"devaddr":	"3EB4A376",
	"fcnt":	16,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	410,
	"humi":	39,
	"temp":	30.7,
	"lux":	235.83,
	"localtime":	"2023-05-05 11:52:15"
}
[2023-05-05 11:52:15.224] [debug] [mqtt_connector.cpp:112] [650] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014019A01860133005C1F",
	"datatype":	0,
	"datetime":	"2023-05-05T03:52:15Z",
	"devaddr":	"3EB4A376",
	"fcnt":	16,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	410,
	"humi":	39,
	"temp":	30.7,
	"lux":	235.83,
	"localtime":	"2023-05-05 11:52:15"
}'
[2023-05-05 11:52:15.224] [debug] [mqtt_connector.cpp:120] [650] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014019A01860133005C1F",
	"datatype":	0,
	"datetime":	"2023-05-05T03:52:15Z",
	"devaddr":	"3EB4A376",
	"fcnt":	16,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	410,
	"humi":	39,
	"temp":	30.7,
	"lux":	235.83,
	"localtime":	"2023-05-05 11:52:15"
}'
[2023-05-05 11:52:15.224] [debug] [DB.cpp:110] [650] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014019A01860133005C1F",
	"datatype":	0,
	"datetime":	"2023-05-05T03:52:15Z",
	"devaddr":	"3EB4A376",
	"fcnt":	16,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	410,
	"humi":	39,
	"temp":	30.7,
	"lux":	235.83,
	"localtime":	"2023-05-05 11:52:15"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014019A01860133005C1F",
	"datatype":	0,
	"datetime":	"2023-05-05T03:52:15Z",
	"devaddr":	"3EB4A376",
	"fcnt":	16,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	410,
	"humi":	39,
	"temp":	30.7,
	"lux":	235.83,
	"localtime":	"2023-05-05 11:52:15"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:52:15.231] [debug] [mysql_pool.cpp:208] [650] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014019A01860133005C1F",
	"datatype":	0,
	"datetime":	"2023-05-05T03:52:15Z",
	"devaddr":	"3EB4A376",
	"fcnt":	16,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	410,
	"humi":	39,
	"temp":	30.7,
	"lux":	235.83,
	"localtime":	"2023-05-05 11:52:15"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"00000300050014019A01860133005C1F",
	"datatype":	0,
	"datetime":	"2023-05-05T03:52:15Z",
	"devaddr":	"3EB4A376",
	"fcnt":	16,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	410,
	"humi":	39,
	"temp":	30.7,
	"lux":	235.83,
	"localtime":	"2023-05-05 11:52:15"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:52:15.231] [debug] [DB.cpp:112] [650] [insertData]: Auto increment id:482
[2023-05-05 11:52:15.231] [info] [rule.cpp:240] [650] [setSourceData]: temp:30.7 humi:39 lux:235.83 co:20 co2:410 h2s:5 nh3:3
[2023-05-05 11:52:15.270] [debug] [mqtt_connector.cpp:168] [644] [defaultDelivered]: Message with token value '16' delivery confirmed
[2023-05-05 11:52:15.646] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:52:15.647] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:52:15.647] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:52:25.647] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:52:25.648] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:52:25.648] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:52:35.648] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:52:35.648] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:52:35.648] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:52:45.649] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:52:45.650] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:52:45.650] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:52:55.650] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:52:55.651] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:52:55.651] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:52:58.997] [debug] [main.cpp:118] [646] [processData]: Message arrived:
[2023-05-05 11:52:58.997] [debug] [main.cpp:119] [646] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"0000030005001401E601860133005FB3","data1":3,"data2":5,"data3":20,"data4":486,"data5":390,"data6":307,"data7":24499,"datatype":0,"datetime":"2023-05-05T03:52:58Z","datr":"SF11BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":17,"freq":474.3,"lsnr":-6.8,"mac":"B827EBFFFE2114B5","port":2,"rssi":-109}'
[2023-05-05 11:52:58.997] [debug] [json_str_convertor.cpp:206] [646] [parseNodeUplink]: 2023-05-05T03:52:58Z
[2023-05-05 11:52:58.997] [debug] [json_str_convertor.cpp:240] [646] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401E601860133005FB3",
	"datatype":	0,
	"datetime":	"2023-05-05T03:52:58Z",
	"devaddr":	"3EB4A376",
	"fcnt":	17,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	486,
	"humi":	39,
	"temp":	30.7,
	"lux":	244.99,
	"localtime":	"2023-05-05 11:52:58"
}
[2023-05-05 11:52:58.997] [debug] [mqtt_connector.cpp:112] [646] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401E601860133005FB3",
	"datatype":	0,
	"datetime":	"2023-05-05T03:52:58Z",
	"devaddr":	"3EB4A376",
	"fcnt":	17,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	486,
	"humi":	39,
	"temp":	30.7,
	"lux":	244.99,
	"localtime":	"2023-05-05 11:52:58"
}'
[2023-05-05 11:52:58.997] [debug] [mqtt_connector.cpp:120] [646] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401E601860133005FB3",
	"datatype":	0,
	"datetime":	"2023-05-05T03:52:58Z",
	"devaddr":	"3EB4A376",
	"fcnt":	17,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	486,
	"humi":	39,
	"temp":	30.7,
	"lux":	244.99,
	"localtime":	"2023-05-05 11:52:58"
}'
[2023-05-05 11:52:58.997] [debug] [DB.cpp:110] [646] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401E601860133005FB3",
	"datatype":	0,
	"datetime":	"2023-05-05T03:52:58Z",
	"devaddr":	"3EB4A376",
	"fcnt":	17,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	486,
	"humi":	39,
	"temp":	30.7,
	"lux":	244.99,
	"localtime":	"2023-05-05 11:52:58"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401E601860133005FB3",
	"datatype":	0,
	"datetime":	"2023-05-05T03:52:58Z",
	"devaddr":	"3EB4A376",
	"fcnt":	17,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	486,
	"humi":	39,
	"temp":	30.7,
	"lux":	244.99,
	"localtime":	"2023-05-05 11:52:58"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:52:59.011] [debug] [mysql_pool.cpp:208] [646] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401E601860133005FB3",
	"datatype":	0,
	"datetime":	"2023-05-05T03:52:58Z",
	"devaddr":	"3EB4A376",
	"fcnt":	17,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	486,
	"humi":	39,
	"temp":	30.7,
	"lux":	244.99,
	"localtime":	"2023-05-05 11:52:58"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401E601860133005FB3",
	"datatype":	0,
	"datetime":	"2023-05-05T03:52:58Z",
	"devaddr":	"3EB4A376",
	"fcnt":	17,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	486,
	"humi":	39,
	"temp":	30.7,
	"lux":	244.99,
	"localtime":	"2023-05-05 11:52:58"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:52:59.011] [debug] [DB.cpp:112] [646] [insertData]: Auto increment id:483
[2023-05-05 11:52:59.011] [info] [rule.cpp:240] [646] [setSourceData]: temp:30.7 humi:39 lux:244.99 co:20 co2:486 h2s:5 nh3:3
[2023-05-05 11:52:59.040] [debug] [mqtt_connector.cpp:168] [644] [defaultDelivered]: Message with token value '17' delivery confirmed
[2023-05-05 11:53:05.651] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:53:05.651] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:53:05.651] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:53:15.652] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:53:15.652] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:53:15.652] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:53:25.652] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:53:25.653] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:53:25.653] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:53:35.653] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:53:35.654] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:53:35.654] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:53:45.654] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:53:45.655] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:53:45.655] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:53:47.110] [debug] [main.cpp:118] [652] [processData]: Message arrived:
[2023-05-05 11:53:47.110] [debug] [main.cpp:119] [652] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"0000030005001401C901860135006978","data1":3,"data2":5,"data3":20,"data4":457,"data5":390,"data6":309,"data7":27000,"datatype":0,"datetime":"2023-05-05T03:53:46Z","datr":"SF10BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":18,"freq":474.3,"lsnr":-6.2,"mac":"B827EBFFFE2114B5","port":2,"rssi":-109}'
[2023-05-05 11:53:47.110] [debug] [json_str_convertor.cpp:206] [652] [parseNodeUplink]: 2023-05-05T03:53:46Z
[2023-05-05 11:53:47.110] [debug] [json_str_convertor.cpp:240] [652] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401C901860135006978",
	"datatype":	0,
	"datetime":	"2023-05-05T03:53:46Z",
	"devaddr":	"3EB4A376",
	"fcnt":	18,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	457,
	"humi":	39,
	"temp":	30.9,
	"lux":	270,
	"localtime":	"2023-05-05 11:53:46"
}
[2023-05-05 11:53:47.110] [debug] [mqtt_connector.cpp:112] [652] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401C901860135006978",
	"datatype":	0,
	"datetime":	"2023-05-05T03:53:46Z",
	"devaddr":	"3EB4A376",
	"fcnt":	18,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	457,
	"humi":	39,
	"temp":	30.9,
	"lux":	270,
	"localtime":	"2023-05-05 11:53:46"
}'
[2023-05-05 11:53:47.110] [debug] [mqtt_connector.cpp:120] [652] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401C901860135006978",
	"datatype":	0,
	"datetime":	"2023-05-05T03:53:46Z",
	"devaddr":	"3EB4A376",
	"fcnt":	18,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	457,
	"humi":	39,
	"temp":	30.9,
	"lux":	270,
	"localtime":	"2023-05-05 11:53:46"
}'
[2023-05-05 11:53:47.110] [debug] [DB.cpp:110] [652] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401C901860135006978",
	"datatype":	0,
	"datetime":	"2023-05-05T03:53:46Z",
	"devaddr":	"3EB4A376",
	"fcnt":	18,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	457,
	"humi":	39,
	"temp":	30.9,
	"lux":	270,
	"localtime":	"2023-05-05 11:53:46"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401C901860135006978",
	"datatype":	0,
	"datetime":	"2023-05-05T03:53:46Z",
	"devaddr":	"3EB4A376",
	"fcnt":	18,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	457,
	"humi":	39,
	"temp":	30.9,
	"lux":	270,
	"localtime":	"2023-05-05 11:53:46"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:53:47.116] [debug] [mysql_pool.cpp:208] [652] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401C901860135006978",
	"datatype":	0,
	"datetime":	"2023-05-05T03:53:46Z",
	"devaddr":	"3EB4A376",
	"fcnt":	18,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	457,
	"humi":	39,
	"temp":	30.9,
	"lux":	270,
	"localtime":	"2023-05-05 11:53:46"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401C901860135006978",
	"datatype":	0,
	"datetime":	"2023-05-05T03:53:46Z",
	"devaddr":	"3EB4A376",
	"fcnt":	18,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	457,
	"humi":	39,
	"temp":	30.9,
	"lux":	270,
	"localtime":	"2023-05-05 11:53:46"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:53:47.116] [debug] [DB.cpp:112] [652] [insertData]: Auto increment id:484
[2023-05-05 11:53:47.116] [info] [rule.cpp:240] [652] [setSourceData]: temp:30.9 humi:39 lux:270 co:20 co2:457 h2s:5 nh3:3
[2023-05-05 11:53:47.160] [debug] [mqtt_connector.cpp:168] [644] [defaultDelivered]: Message with token value '18' delivery confirmed
[2023-05-05 11:53:55.655] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:53:55.656] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:53:55.656] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:54:05.656] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:54:05.657] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:54:05.657] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:54:15.657] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:54:15.658] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:54:15.658] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:54:25.658] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:54:25.658] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:54:25.658] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:54:35.658] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:54:35.659] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:54:35.659] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:54:45.659] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:54:45.660] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:54:45.660] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:54:55.660] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:54:55.661] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:54:55.661] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:54:58.412] [debug] [main.cpp:118] [647] [processData]: Message arrived:
[2023-05-05 11:54:58.412] [debug] [main.cpp:119] [647] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"0000030005001401D901860137008717","data1":3,"data2":5,"data3":20,"data4":473,"data5":390,"data6":311,"data7":34583,"datatype":0,"datetime":"2023-05-05T03:54:58Z","datr":"SF12BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":19,"freq":474.3,"lsnr":-11.5,"mac":"B827EBFFFE2114B5","port":2,"rssi":-107}'
[2023-05-05 11:54:58.412] [debug] [json_str_convertor.cpp:206] [647] [parseNodeUplink]: 2023-05-05T03:54:58Z
[2023-05-05 11:54:58.412] [debug] [json_str_convertor.cpp:240] [647] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401D901860137008717",
	"datatype":	0,
	"datetime":	"2023-05-05T03:54:58Z",
	"devaddr":	"3EB4A376",
	"fcnt":	19,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	473,
	"humi":	39,
	"temp":	31.1,
	"lux":	345.83,
	"localtime":	"2023-05-05 11:54:58"
}
[2023-05-05 11:54:58.412] [debug] [mqtt_connector.cpp:112] [647] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401D901860137008717",
	"datatype":	0,
	"datetime":	"2023-05-05T03:54:58Z",
	"devaddr":	"3EB4A376",
	"fcnt":	19,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	473,
	"humi":	39,
	"temp":	31.1,
	"lux":	345.83,
	"localtime":	"2023-05-05 11:54:58"
}'
[2023-05-05 11:54:58.412] [debug] [mqtt_connector.cpp:120] [647] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401D901860137008717",
	"datatype":	0,
	"datetime":	"2023-05-05T03:54:58Z",
	"devaddr":	"3EB4A376",
	"fcnt":	19,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	473,
	"humi":	39,
	"temp":	31.1,
	"lux":	345.83,
	"localtime":	"2023-05-05 11:54:58"
}'
[2023-05-05 11:54:58.412] [debug] [DB.cpp:110] [647] [insertData]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401D901860137008717",
	"datatype":	0,
	"datetime":	"2023-05-05T03:54:58Z",
	"devaddr":	"3EB4A376",
	"fcnt":	19,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	473,
	"humi":	39,
	"temp":	31.1,
	"lux":	345.83,
	"localtime":	"2023-05-05 11:54:58"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401D901860137008717",
	"datatype":	0,
	"datetime":	"2023-05-05T03:54:58Z",
	"devaddr":	"3EB4A376",
	"fcnt":	19,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	473,
	"humi":	39,
	"temp":	31.1,
	"lux":	345.83,
	"localtime":	"2023-05-05 11:54:58"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:54:58.421] [debug] [mysql_pool.cpp:208] [647] [createSql]: INSERT INTO data(dev_addr, data_type, frame, send_status) VALUES("3EB4A376",0,JSON_REMOVE(JSON_SET('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401D901860137008717",
	"datatype":	0,
	"datetime":	"2023-05-05T03:54:58Z",
	"devaddr":	"3EB4A376",
	"fcnt":	19,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	473,
	"humi":	39,
	"temp":	31.1,
	"lux":	345.83,
	"localtime":	"2023-05-05 11:54:58"
}','$.localtime',DATE_ADD(STR_TO_DATE(JSON_VALUE('{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"0000030005001401D901860137008717",
	"datatype":	0,
	"datetime":	"2023-05-05T03:54:58Z",
	"devaddr":	"3EB4A376",
	"fcnt":	19,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	473,
	"humi":	39,
	"temp":	31.1,
	"lux":	345.83,
	"localtime":	"2023-05-05 11:54:58"
}','$.datetime'),'%Y-%m-%dT%H:%i:%sZ'),INTERVAL 8 HOUR)),'$.codr','$.datr','$.desc','$.freq','$.lsnr','$.port','$.rssi'),0)
[2023-05-05 11:54:58.421] [debug] [DB.cpp:112] [647] [insertData]: Auto increment id:485
[2023-05-05 11:54:58.421] [info] [rule.cpp:240] [647] [setSourceData]: temp:31.1 humi:39 lux:345.83 co:20 co2:473 h2s:5 nh3:3
[2023-05-05 11:54:58.460] [debug] [mqtt_connector.cpp:168] [644] [defaultDelivered]: Message with token value '19' delivery confirmed
[2023-05-05 11:55:05.663] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:55:05.664] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:55:05.664] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:55:15.664] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:55:15.666] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:55:15.666] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:55:25.666] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:55:25.666] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:55:25.666] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:55:35.666] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:55:35.667] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:55:35.667] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:55:45.667] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:55:45.668] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:55:45.668] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:55:55.668] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:55:55.669] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:55:55.669] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:56:05.669] [debug] [DB.cpp:190] [649] [queryUnexecutedCmd]: SELECT id, cmd FROM cmd WHERE exe_status=0 AND datetime <= DATE_ADD(NOW(), INTERVAL -30 SECOND)
[2023-05-05 11:56:05.670] [debug] [DB.cpp:193] [649] [queryUnexecutedCmd]: false
[2023-05-05 11:56:05.670] [info] [main.cpp:259] [649] [resendUnexecutedCmd]: Sleep for 10 sec.
[2023-05-05 11:56:05.901] [debug] [main.cpp:118] [645] [processData]: Message arrived:
[2023-05-05 11:56:05.901] [debug] [main.cpp:119] [645] [processData]: topic: 'uplinkFromNode'	payload: '{"app":"Raspiber-handler","battery":0,"codr":"4/5","data":"000003000500140235019A0137009228","data1":3,"data2":5,"data3":20,"data4":565,"data5":410,"data6":311,"data7":37416,"datatype":0,"datetime":"2023-05-05T03:56:05Z","datr":"SF12BW125","desc":"Collection","devaddr":"3EB4A376","fcnt":20,"freq":474.5,"lsnr":-12.0,"mac":"B827EBFFFE2114B5","port":2,"rssi":-107}'
[2023-05-05 11:56:05.901] [debug] [json_str_convertor.cpp:206] [645] [parseNodeUplink]: 2023-05-05T03:56:05Z
[2023-05-05 11:56:05.902] [debug] [json_str_convertor.cpp:240] [645] [parseNodeUplink]: {
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"000003000500140235019A0137009228",
	"datatype":	0,
	"datetime":	"2023-05-05T03:56:05Z",
	"devaddr":	"3EB4A376",
	"fcnt":	20,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	565,
	"humi":	41,
	"temp":	31.1,
	"lux":	374.16,
	"localtime":	"2023-05-05 11:56:05"
}
[2023-05-05 11:56:05.902] [debug] [mqtt_connector.cpp:112] [645] [connectorPublish]: Sending:'{
	"app":	"Raspiber-handler",
	"battery":	0,
	"data":	"000003000500140235019A0137009228",
	"datatype":	0,
	"datetime":	"2023-05-05T03:56:05Z",
	"devaddr":	"3EB4A376",
	"fcnt":	20,
	"mac":	"B827EBFFFE2114B5",
	"nh3":	3,
	"h2s":	5,
	"co":	20,
	"co2":	565,
	"humi":	41,
	"temp":	31.1,
	"lux":	374.16,
	"localtime":	"2023-05-05 11:56:05"
}'
[2023-05-05 11:56:05.902] [debug] [mqtt_connector.cpp:120] [645] [connectorPublish]: Succeed in sending topic 'uplinkToCloud' , message: '{
	"app":	"Raspiber-handler",
	"battery"